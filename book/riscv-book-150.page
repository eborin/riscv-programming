<div id="pf96" class="pf w0 h0" data-page-no="96"><div class="pc pc96 w0 h0"><img class="bi xf y136f w2 hf9" alt="" src="bg96.png"/><div class="t m0 xf h8 y105 ff3 fs4 fc0 sc0 ls0 ws0">10.5.<span class="_ _1f"> </span>PROTECTING<span class="_ _6"> </span>RISC-V<span class="_ _2"> </span>SYSTEMS</div><div class="t m0 xf h8 y57 ff3 fs4 fc0 sc0 ls0 ws0">User/Application<span class="_ _3"> </span>mo<span class="_ _5"></span>de<span class="_ _3"> </span>co<span class="_ _5"></span>de.<span class="_ _4"> </span>Then,<span class="_ _3"> </span>it<span class="_ _3"> </span>loads<span class="_ _3"> </span>the<span class="_ _3"> </span>user<span class="_ _3"> </span>softw<span class="_ _27"></span>are<span class="_ _3"> </span>entry<span class="_ _2"> </span>p<span class="_ _5"></span>oint<span class="_ _2"> </span>into<span class="_ _2"> </span>the<span class="_ _3"> </span><span class="ff5">mepc<span class="_ _3"> </span></span>CSR.<span class="_ _3"> </span>Finally<span class="_ _9"></span>,</div><div class="t m0 xf h8 y86 ff3 fs4 fc0 sc0 ls0 ws0">it<span class="_ _2"> </span>executes<span class="_ _3"> </span>the<span class="_ _2"> </span><span class="ff5">mret<span class="_ _3"> </span></span>instruction,<span class="_ _3"> </span>whic<span class="_ _1"></span>h<span class="_ _2"> </span>changes<span class="_ _2"> </span>the<span class="_ _2"> </span>mo<span class="_ _5"></span>de<span class="_ _3"> </span>using<span class="_ _2"> </span>the<span class="_ _3"> </span>co<span class="_ _5"></span>de<span class="_ _3"> </span>in<span class="_ _2"> </span>the<span class="_ _3"> </span><span class="ff5">mstatus</span>.<span class="ff5">MPP<span class="_ _2"> </span></span>CSR<span class="_ _3"> </span>ﬁeld</div><div class="t m0 xf h8 y87 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _2"> </span>c<span class="_ _1"></span>hanges<span class="_ _2"> </span>the<span class="_ _6"> </span>program<span class="_ _2"> </span>c<span class="_ _5"></span>oun<span class="_ _27"></span>ter<span class="_ _2"> </span>using<span class="_ _2"> </span>the<span class="_ _2"> </span>v<span class="_ _27"></span>alue<span class="_ _2"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mepc<span class="_ _2"> </span></span>CSR<span class="_ _2"> </span>at<span class="_ _2"> </span>the<span class="_ _2"> </span>same<span class="_ _2"> </span>time.</div><div class="t m0 x116 h9 y1091 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _37"> </span><span class="ff5 fs4">#<span class="_ _18"> </span>Changing<span class="_ _4"> </span>to<span class="_ _4"> </span>User/Application<span class="_ _4"> </span>mode</span></div><div class="t m0 x116 h9 y5b5 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _37"> </span><span class="ff5 fs4">csrr<span class="_ _18"> </span>t1,<span class="_ _4"> </span>mstatus<span class="_ _8c"> </span>#<span class="_ _4"> </span>update<span class="_ _4"> </span>the<span class="_ _18"> </span>mstatus.MPP</span></div><div class="t m0 x116 h9 y5b6 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _37"> </span><span class="ff5 fs4">li<span class="_ _18"> </span>t2,<span class="_ _4"> </span>~0x1800<span class="_ _bd"> </span>#<span class="_ _79"> </span>field<span class="_ _18"> </span>(bits<span class="_ _4"> </span>11<span class="_ _4"> </span>and<span class="_ _4"> </span>12)</span></div><div class="t m0 x116 h9 y5b7 ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _37"> </span><span class="ff5 fs4">and<span class="_ _18"> </span>t1,<span class="_ _4"> </span>t1,<span class="_ _4"> </span>t2<span class="_ _bd"> </span>#<span class="_ _79"> </span>with<span class="_ _18"> </span>value<span class="_ _4"> </span>00<span class="_ _4"> </span>(U-mode)</span></div><div class="t m0 x116 h9 y5b8 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _37"> </span><span class="ff5 fs4">csrw<span class="_ _18"> </span>mstatus,<span class="_ _4"> </span>t1</span></div><div class="t m0 x116 h39 y5b9 ff22 fs11 fc0 sc0 ls0 ws0">6</div><div class="t m0 x116 h9 y5ba ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _37"> </span><span class="ff5 fs4">la<span class="_ _18"> </span>t0,<span class="_ _4"> </span>user_main<span class="_ _8c"> </span>#<span class="_ _4"> </span>load<span class="_ _4"> </span>the<span class="_ _18"> </span>user<span class="_ _4"> </span>software</span></div><div class="t m0 x116 h9 y5bb ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _37"> </span><span class="ff5 fs4">csrw<span class="_ _18"> </span>mepc,<span class="_ _4"> </span>t0<span class="_ _89"> </span>#<span class="_ _4"> </span>entry<span class="_ _4"> </span>point<span class="_ _4"> </span>into<span class="_ _18"> </span>mepc</span></div><div class="t m0 x116 h39 y158d ff22 fs11 fc0 sc0 ls0 ws0">9</div><div class="t m0 x126 h9 y158e ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _37"> </span><span class="ff5 fs4">mret<span class="_ _59"> </span>#<span class="_ _4"> </span>PC<span class="_ _18"> </span>&lt;=<span class="_ _4"> </span>MEPC;<span class="_ _4"> </span>mode<span class="_ _4"> </span>&lt;=<span class="_ _18"> </span>MPP;</span></div><div class="t m0 xf hb y158f ff6 fs6 fc0 sc0 ls0 ws0">10.5.2<span class="_ _11"> </span>Conﬁguring<span class="_ _7"> </span>the<span class="_ _7"> </span>exception<span class="_ _7"> </span>and<span class="_ _7"> </span>softw<span class="_ _27"></span>are<span class="_ _7"> </span>in<span class="_ _1"></span>terrupt<span class="_ _7"> </span>mec<span class="_ _1"></span>hanisms</div><div class="t m0 xf h8 y1590 ff3 fs4 fc0 sc0 ls0 ws0">RISC-V<span class="_ _6"> </span>CPUs<span class="_ _6"> </span>use<span class="_ _6"> </span>a<span class="_ _6"> </span>similar<span class="_ _38"> </span>me<span class="_ _5"></span>c<span class="_ _27"></span>hanism<span class="_ _6"> </span>to<span class="_ _6"> </span>handle<span class="_ _6"> </span>interrupts,<span class="_ _6"> </span>exceptions,<span class="_ _6"> </span>and<span class="_ _6"> </span>softw<span class="_ _27"></span>are<span class="_ _6"> </span>interrupts, <span class="ff8">i.e.</span>,<span class="_ _6"> </span>it</div><div class="t m0 xf h8 y1591 ff3 fs4 fc0 sc0 ls0 ws0">sa<span class="_ _1"></span>v<span class="_ _1"></span>es<span class="_ _6"> </span>part<span class="_ _6"> </span>of<span class="_ _6"> </span>the<span class="_ _6"> </span>current<span class="_ _38"> </span>context<span class="_ _6"> </span>(<span class="ff8">e.g.</span>,<span class="_ _6"> </span>the<span class="_ _6"> </span>PC<span class="_ _6"> </span>conten<span class="_ _27"></span>ts),<span class="_ _2"> </span>sets<span class="_ _6"> </span>the<span class="_ _6"> </span><span class="ff5">mcause<span class="_ _6"> </span></span>and<span class="_ _2"> </span>other<span class="_ _6"> </span>CSRs,<span class="_ _6"> </span>and<span class="_ _6"> </span>redirects</div><div class="t m0 xf h8 y1592 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _6"> </span>execution<span class="_ _6"> </span>ﬂow to<span class="_ _2"> </span>an<span class="_ _6"> </span>interrupt service<span class="_ _6"> </span>routine.<span class="_ _7"> </span>Consequently<span class="_ _12"></span>,<span class="_ _2"> </span>conﬁguring<span class="_ _6"> </span>the<span class="_ _6"> </span>exception<span class="_ _6"> </span>and<span class="_ _6"> </span>softw<span class="_ _27"></span>are</div><div class="t m0 xf h8 y1593 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terrupt handling mechanisms is very similar to conﬁguring<span class="_ _6"> </span>the external<span class="_ _38"> </span>interrupt handling mechanism,</div><div class="t m0 xf h8 y1594 ff3 fs4 fc0 sc0 ls0 ws0">as<span class="_ _2"> </span>discussed<span class="_ _2"> </span>in<span class="_ _6"> </span>Section<span class="_ _2"> </span>9.3.5.</div><div class="t m0 xc h8 y1595 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>system<span class="_ _3"> </span>softw<span class="_ _27"></span>are<span class="_ _3"> </span>conﬁgures<span class="_ _3"> </span>the<span class="_ _3"> </span>exception<span class="_ _3"> </span>and<span class="_ _2"> </span>softw<span class="_ _27"></span>are<span class="_ _3"> </span>interrupt<span class="_ _2"> </span>mechanisms<span class="_ _2"> </span>by<span class="_ _2"> </span>registering<span class="_ _3"> </span>the</div><div class="t m0 xf h8 y1596 ff3 fs4 fc0 sc0 ls0 ws0">routines that<span class="_ _6"> </span>will<span class="_ _6"> </span>handle<span class="_ _6"> </span>these<span class="_ _38"> </span>even<span class="_ _27"></span>ts.<span class="_ _7"> </span>This<span class="_ _6"> </span>is<span class="_ _6"> </span>p<span class="_ _5"></span>erformed in<span class="_ _6"> </span>the<span class="_ _6"> </span>same<span class="_ _6"> </span>wa<span class="_ _27"></span>y<span class="_ _38"> </span>that<span class="_ _6"> </span>interrupt service<span class="_ _6"> </span>routines</div><div class="t m0 xf h8 y1597 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _3"> </span>registered<span class="_ _3"> </span>to<span class="_ _b"> </span>handle<span class="_ _3"> </span>external<span class="_ _b"> </span>in<span class="_ _27"></span>terrupts.<span class="_ _2a"> </span>In<span class="_ _b"> </span>the<span class="_ _3"> </span>direct<span class="_ _3"> </span>m<span class="_ _5"></span>ode,<span class="_ _b"> </span>a<span class="_ _b"> </span>single<span class="_ _3"> </span>routine<span class="_ _3"> </span>is<span class="_ _b"> </span>registered<span class="_ _3"> </span>and<span class="_ _3"> </span>this</div><div class="t m0 xf h8 y1598 ff3 fs4 fc0 sc0 ls0 ws0">routine<span class="_ _6"> </span>is<span class="_ _2"> </span>resp<span class="_ _5"></span>onsible<span class="_ _2"> </span>for<span class="_ _2"> </span>insp<span class="_ _5"></span>ecting<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mcause<span class="_ _6"> </span></span>CSR<span class="_ _2"> </span>to<span class="_ _2"> </span>identify<span class="_ _6"> </span>the<span class="_ _2"> </span>even<span class="_ _27"></span>t<span class="_ _2"> </span>source<span class="_ _2"> </span>and<span class="_ _6"> </span>inv<span class="_ _27"></span>oke<span class="_ _6"> </span>the<span class="_ _2"> </span>prop<span class="_ _5"></span>er</div><div class="t m0 xf h8 y1599 ff3 fs4 fc0 sc0 ls0 ws0">routine.<span class="_ _b"> </span>In the<span class="_ _35"> </span>vectored<span class="_ _35"> </span>mo<span class="_ _5"></span>de, the<span class="_ _a"> </span>external<span class="_ _a"> </span>interrupt,<span class="_ _a"> </span>exception, and<span class="_ _a"> </span>softw<span class="_ _27"></span>are<span class="_ _a"> </span>interrupt<span class="_ _35"> </span>handling routines</div><div class="t m0 xf h8 y159a ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>registered<span class="_ _3"> </span>on<span class="_ _2"> </span>the<span class="_ _1b"> </span>interrupt<span class="_ _2"> </span>vector<span class="_ _2"> </span>table.<span class="_ _18"> </span>Section<span class="_ _3"> </span>9.3.5<span class="_ _2"> </span>shows<span class="_ _2"> </span>fragments<span class="_ _2"> </span>of<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _3"> </span>that<span class="_ _3"> </span>conﬁgure</div><div class="t m0 xf h8 y159b ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>handling<span class="_ _6"> </span>mechanism<span class="_ _6"> </span>in<span class="_ _2"> </span>direct<span class="_ _2"> </span>and<span class="_ _2"> </span>vectored<span class="_ _6"> </span>mo<span class="_ _5"></span>des.</div><div class="t m0 xc h8 y159c ff3 fs4 fc0 sc0 ls0 ws0">On<span class="_ _3"> </span>RISC-V,<span class="_ _b"> </span>external<span class="_ _b"> </span>interrupts<span class="_ _3"> </span>must<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>enabled<span class="_ _b"> </span>b<span class="_ _27"></span>y<span class="_ _b"> </span>setting<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">mstatus<span class="_ _b"> </span></span>and<span class="_ _3"> </span>the<span class="_ _b"> </span><span class="ff5">mie<span class="_ _b"> </span></span>Control<span class="_ _3"> </span>and</div><div class="t m0 xf h8 y159d ff3 fs4 fc0 sc0 ls0 ws0">Status<span class="_ _2"> </span>Registers.<span class="_ _7"> </span>On<span class="_ _2"> </span>the<span class="_ _2"> </span>other<span class="_ _2"> </span>hand,<span class="_ _2"> </span>exceptions<span class="_ _2"> </span>and<span class="_ _2"> </span>soft<span class="_ _1"></span>w<span class="_ _1"></span>are<span class="_ _2"> </span>in<span class="_ _1"></span>terrupts<span class="_ _2"> </span>are<span class="_ _2"> </span>alw<span class="_ _1"></span>a<span class="_ _1"></span>ys<span class="_ _2"> </span>enabled<span class="_ _2"> </span>and<span class="_ _2"> </span>do<span class="_ _2"> </span>not</div><div class="t m0 xf h8 y159e ff3 fs4 fc0 sc0 ls0 ws0">need<span class="_ _2"> </span>extra<span class="_ _2"> </span>conﬁguration.</div><div class="t m0 xf hb y159f ff6 fs6 fc0 sc0 ls0 ws0">10.5.3<span class="_ _11"> </span>Handling<span class="_ _7"> </span>illegal<span class="_ _7"> </span>op<span class="_ _5"></span>erations</div><div class="t m0 xf h8 y15a0 ff3 fs4 fc0 sc0 ls0 ws0">RISC-V<span class="_ _6"> </span>CPUs<span class="_ _6"> </span>generate<span class="_ _6"> </span>exceptions<span class="_ _6"> </span>whenever an<span class="_ _6"> </span>instruction<span class="_ _2"> </span>tries<span class="_ _6"> </span>to<span class="_ _6"> </span>execute<span class="_ _6"> </span>an<span class="_ _6"> </span>illegal<span class="_ _6"> </span>op<span class="_ _5"></span>eration,<span class="_ _6"> </span>such<span class="_ _6"> </span>as</div><div class="t m0 xf h8 y15a1 ff3 fs4 fc0 sc0 ls0 ws0">executing<span class="_ _2"> </span>an<span class="_ _2"> </span>instruction<span class="_ _6"> </span>that<span class="_ _2"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>do<span class="_ _5"></span>es<span class="_ _2"> </span>not<span class="_ _2"> </span>recognize</div><div class="t m0 xf9 h12 y15a2 ffc fs7 fc0 sc0 ls0 ws0">4</div><div class="t m0 x88 h8 y15a1 ff3 fs4 fc0 sc0 ls0 ws0">.</div><div class="t m0 xc h8 y15a3 ff3 fs4 fc0 sc0 ls0 ws0">RISC-V<span class="_ _2"> </span>systems<span class="_ _2"> </span>that<span class="_ _2"> </span>contain<span class="_ _6"> </span>the<span class="_ _3"> </span>Mac<span class="_ _1"></span>hine<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>User/Application<span class="_ _2"> </span>mo<span class="_ _5"></span>des<span class="_ _3"> </span>usually<span class="_ _2"> </span>include<span class="_ _2"> </span>a<span class="_ _2"> </span>mem-</div><div class="t m0 xf h8 y15a4 ff3 fs4 fc0 sc0 ls0 ws0">ory<span class="_ _6"> </span>protection<span class="_ _2"> </span>unit<span class="_ _6"> </span>[5]<span class="_ _2"> </span>that<span class="_ _6"> </span>can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _6"> </span>conﬁgured<span class="_ _2"> </span>to<span class="_ _6"> </span>generate<span class="_ _2"> </span>exceptions<span class="_ _6"> </span>whenever<span class="_ _6"> </span>the<span class="_ _6"> </span>CPU<span class="_ _2"> </span>tries<span class="_ _2"> </span>to<span class="_ _6"> </span>read<span class="_ _2"> </span>or</div><div class="t m0 xf h8 y15a5 ff3 fs4 fc0 sc0 ls0 ws0">write data<span class="_ _6"> </span>or<span class="_ _6"> </span>fetch instructions<span class="_ _38"> </span>for<span class="_ _6"> </span>execution<span class="_ _6"> </span>from<span class="_ _6"> </span>sp<span class="_ _5"></span>eciﬁc addresses.<span class="_ _7"> </span>The<span class="_ _6"> </span>op<span class="_ _5"></span>erating<span class="_ _38"> </span>system<span class="_ _6"> </span>may protect</div><div class="t m0 xf h8 y15a6 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _b"> </span>system<span class="_ _34"> </span>by<span class="_ _b"> </span>conﬁguring<span class="_ _34"> </span>this<span class="_ _b"> </span>unit<span class="_ _34"> </span>to<span class="_ _34"> </span>generate<span class="_ _34"> </span>exceptions<span class="_ _b"> </span>whenever<span class="_ _b"> </span>co<span class="_ _5"></span>de<span class="_ _34"> </span>executing<span class="_ _34"> </span>in<span class="_ _b"> </span>User/Applica-</div><div class="t m0 xf h8 y15a7 ff3 fs4 fc0 sc0 ls0 ws0">tion<span class="_ _34"> </span>mo<span class="_ _5"></span>de<span class="_ _7"> </span>tries<span class="_ _34"> </span>to<span class="_ _7"> </span>access<span class="_ _7"> </span>protected<span class="_ _7"> </span>addresses,<span class="_ _7"> </span>such<span class="_ _34"> </span>as<span class="_ _7"> </span>addresses<span class="_ _34"> </span>mapp<span class="_ _5"></span>ed<span class="_ _7"> </span>to<span class="_ _34"> </span>p<span class="_ _5"></span>eripherals<span class="_ _7"> </span>and<span class="_ _7"> </span>memory</div><div class="t m0 xf h8 y15a8 ff3 fs4 fc0 sc0 ls0 ws0">addresses<span class="_ _24"> </span>that<span class="_ _24"> </span>contain<span class="_ _7"> </span>the<span class="_ _18"> </span>op<span class="_ _5"></span>erating<span class="_ _24"> </span>system<span class="_ _24"> </span>or<span class="_ _24"> </span>other<span class="_ _24"> </span>softw<span class="_ _27"></span>are.<span class="_ _30"> </span>In<span class="_ _24"> </span>these<span class="_ _24"> </span>cases,<span class="_ _4"> </span>if<span class="_ _24"> </span>the<span class="_ _24"> </span>CPU<span class="_ _24"> </span>tries<span class="_ _18"> </span>to</div><div class="t m0 xf h8 y15a9 ff3 fs4 fc0 sc0 ls0 ws0">read/write<span class="_ _24"> </span>data<span class="_ _24"> </span>from/to<span class="_ _7"> </span>a<span class="_ _24"> </span>protected<span class="_ _24"> </span>address,<span class="_ _4"> </span>the<span class="_ _7"> </span>memory<span class="_ _24"> </span>protection<span class="_ _24"> </span>unit<span class="_ _24"> </span>generates<span class="_ _24"> </span>a<span class="_ _24"> </span>“Load<span class="_ _24"> </span>access</div><div class="t m0 xf h8 y15aa ff3 fs4 fc0 sc0 ls0 ws0">fault”/“Store/AMO<span class="_ _6"> </span>access<span class="_ _2"> </span>fault”<span class="_ _6"> </span>exce<span class="_ _5"></span>ption<span class="_ _6"> </span>(<span class="ff5">mstatus</span>.<span class="ff5">EXCCODE</span>=5/7).<span class="_ _7"> </span>Also,<span class="_ _2"> </span>if<span class="_ _6"> </span>the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>tries<span class="_ _6"> </span>to<span class="_ _2"> </span>fetch<span class="_ _6"> </span>an</div><div class="t m0 xf h8 y15ab ff3 fs4 fc0 sc0 ls0 ws0">instruction<span class="_ _b"> </span>for<span class="_ _b"> </span>execution<span class="_ _b"> </span>from<span class="_ _b"> </span>a<span class="_ _b"> </span>protected<span class="_ _b"> </span>address,<span class="_ _b"> </span>the<span class="_ _b"> </span>system<span class="_ _b"> </span>generates<span class="_ _b"> </span>an<span class="_ _b"> </span>“Instruction<span class="_ _b"> </span>access<span class="_ _b"> </span>fault”</div><div class="t m0 xf h8 y15ac ff3 fs4 fc0 sc0 ls0 ws0">exception<span class="_ _2"> </span>(<span class="ff5">mstatus</span>.<span class="ff5">EXCCODE</span>=1).</div><div class="t m0 xc h8 y15ad ff3 fs4 fc0 sc0 ls0 ws0">Whenev<span class="_ _1"></span>er<span class="_ _2"> </span>an<span class="_ _2"> </span>exception<span class="_ _6"> </span>is<span class="_ _3"> </span>generated,<span class="_ _6"> </span>the<span class="_ _2"> </span>RISC-V<span class="_ _2"> </span>CPU:</div><div class="t m0 xc h7 y15ae ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">Sa<span class="_ _1"></span>v<span class="_ _1"></span>es<span class="_ _2"> </span>the<span class="_ _2"> </span>curren<span class="_ _1"></span>t<span class="_ _2"> </span>program<span class="_ _2"> </span>coun<span class="_ _1"></span>ter<span class="_ _6"> </span>into<span class="_ _6"> </span>the<span class="_ _2"> </span><span class="ff5">mepc<span class="_ _2"> </span></span>CSR;</span></div><div class="t m0 x2b h1e y15af fff fsd fc0 sc0 ls0 ws0">4</div><div class="t m0 xc h1f y15b0 ff10 fse fc0 sc0 ls0 ws0">This<span class="_ _2"> </span>op<span class="_ _5"></span>eration<span class="_ _3"> </span>generates<span class="_ _2"> </span>an<span class="_ _3"> </span>“Illegal<span class="_ _2"> </span>instruction”<span class="_ _3"> </span>exception,<span class="_ _3"> </span>which<span class="_ _2"> </span>is<span class="_ _2"> </span>identiﬁed<span class="_ _2"> </span>by<span class="_ _2"> </span>v<span class="_ _27"></span>alue<span class="_ _3"> </span>t<span class="_ _1"></span>wo<span class="_ _6"> </span>on<span class="_ _3"> </span>the<span class="_ _2"> </span><span class="ff28">mcause</span>.<span class="ff28">EXCCODE</span></div><div class="t m0 xf h1f y15b1 ff10 fse fc0 sc0 ls0 ws0">CSR<span class="_ _38"> </span>ﬁeld<span class="_ _38"> </span>–<span class="_ _38"> </span>see<span class="_ _38"> </span>T<span class="_ _9"></span>able<span class="_ _38"> </span>10.1.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y13b ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y13c ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Septem<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _6"> </span>17,<span class="_ _2"> </span>2025)</div><div class="t m0 x9c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">137</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:463.323000px;bottom:719.578000px;width:22.057000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:480.465000px;bottom:708.177000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.015000px;bottom:695.945000px;width:22.057000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:108.523000px;bottom:505.583000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,411.096,null]'><div class="d m1" style="border-style:none;position:absolute;left:257.314000px;bottom:493.074000px;width:15.968000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:435.994000px;bottom:493.074000px;width:22.056000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:178.515000px;bottom:481.672000px;width:107.484000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8f" data-dest-detail='[143,"XYZ",72,241.753,null]'><div class="d m1" style="border-style:none;position:absolute;left:173.066000px;bottom:459.699000px;width:22.471000px;height:8.911000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:413.105000px;bottom:433.852000px;width:111.167000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:280.968000px;bottom:409.941000px;width:22.056000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,666.223,null]'><div class="d m1" style="border-style:none;position:absolute;left:190.259000px;bottom:386.031000px;width:96.289000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8f" data-dest-detail='[143,"XYZ",72,241.753,null]'><div class="d m1" style="border-style:none;position:absolute;left:327.419000px;bottom:386.031000px;width:22.471000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",72,383.284,null]'><div class="d m1" style="border-style:none;position:absolute;left:469.409000px;bottom:362.121000px;width:54.863000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",72,383.284,null]'><div class="d m1" style="border-style:none;position:absolute;left:71.004000px;bottom:350.166000px;width:72.619000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:108.558000px;bottom:291.933000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf96" data-dest-detail='[150,"XYZ",87.243,123.098,null]'><div class="d m1" style="border-style:none;position:absolute;left:323.419000px;bottom:279.977000px;width:6.462000px;height:12.040000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",72,476.707,null]'><div class="d m1" style="border-style:none;position:absolute;left:159.550000px;bottom:258.004000px;width:6.974000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:432.519000px;bottom:255.514000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:463.504000px;bottom:208.246000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:428.583000px;bottom:183.783000px;width:23.439000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:304.268000px;bottom:148.471000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:311.851000px;bottom:128.269000px;width:22.056000px;height:11.124000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:71.004000px;bottom:100.333000px;width:19.042000px;height:10.367000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf95" data-dest-detail='[149,"XYZ",72,739.005,null]'><div class="d m1" style="border-style:none;position:absolute;left:153.260000px;bottom:100.333000px;width:17.048000px;height:10.367000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
