<div id="pf35" class="pf w0 h0" data-page-no="35"><div class="pc pc35 w0 h0"><img class="bi xf y8bc w2 h8b" alt="" src="bg35.png"/><div class="t m0 xf h8 y10d ff3 fs4 fc0 sc0 ls0 ws0">3.4.<span class="_ _1f"> </span>EXECUT<span class="_ _9"></span>ABLE<span class="_ _2"> </span>VS<span class="_ _2"> </span>OBJECT<span class="_ _2"> </span>FILES</div><div class="t m0 xf h9 y57 ff5 fs4 fc0 sc0 ls0 ws0">00010084<span class="_ _18"> </span>&lt;update_y&gt;:</div><div class="t m0 xc h9 y86 ff5 fs4 fc0 sc0 ls0 ws0">10084:<span class="_ _7a"> </span>80418313<span class="_ _97"> </span>addi<span class="_ _18"> </span>t1,gp,-2044<span class="_ _4"> </span>#<span class="_ _4"> </span>11094<span class="_ _4"> </span>&lt;y&gt;</div><div class="t m0 xc h9 y87 ff5 fs4 fc0 sc0 ls0 ws0">10088:<span class="_ _7a"> </span>00a32023<span class="_ _97"> </span>sw<span class="_ _18"> </span>a0,0(t1)</div><div class="t m0 xc h9 y88 ff5 fs4 fc0 sc0 ls0 ws0">1008c:<span class="_ _7a"> </span>00008067<span class="_ _97"> </span>ret</div><div class="t m0 xf h9 y8a ff5 fs4 fc0 sc0 ls0 ws0">Disassembly<span class="_ _18"> </span>of<span class="_ _4"> </span>section<span class="_ _4"> </span>.data:</div><div class="t m0 xf h9 y22f ff5 fs4 fc0 sc0 ls0 ws0">00011090<span class="_ _18"> </span>&lt;__DATA_BEGIN__&gt;:</div><div class="t m0 xc h9 y230 ff5 fs4 fc0 sc0 ls0 ws0">11090:<span class="_ _7a"> </span>000a<span class="_ _96"> </span>c.slli<span class="_ _18"> </span>zero,<span class="_ _4"> </span>0x2</div><div class="t m0 x2a h9 y231 ff5 fs4 fc0 sc0 ls0 ws0">...</div><div class="t m0 xf h9 y1d ff5 fs4 fc0 sc0 ls0 ws0">00011094<span class="_ _18"> </span>&lt;y&gt;:</div><div class="t m0 xc h9 y1e ff5 fs4 fc0 sc0 ls0 ws0">11094:<span class="_ _7a"> </span>000c<span class="_ _3d"> </span>0xc</div><div class="t m0 x2a h9 y1f ff5 fs4 fc0 sc0 ls0 ws0">...</div><div class="t m0 xc h8 y64 ff3 fs4 fc0 sc0 ls0 ws0">Notice<span class="_ _3"> </span>that<span class="_ _b"> </span>the<span class="_ _b"> </span>linker<span class="_ _3"> </span>assigned<span class="_ _3"> </span>addresses<span class="_ _b"> </span><span class="ff5">10074<span class="_ _b"> </span></span>to<span class="_ _b"> </span><span class="ff5">1008f<span class="_ _3"> </span></span>to<span class="_ _b"> </span>the<span class="_ _b"> </span>conten<span class="_ _27"></span>ts<span class="_ _b"> </span>of<span class="_ _3"> </span>the<span class="_ _b"> </span><span class="ff5">.text<span class="_ _b"> </span></span>section<span class="_ _3"> </span>and</div><div class="t m0 xf h8 y8c ff3 fs4 fc0 sc0 ls0 ws0">addresses<span class="_ _2"> </span><span class="ff5">10090<span class="_ _2"> </span></span>to<span class="_ _6"> </span><span class="ff5">10097</span></div><div class="t m0 x38 h12 y8bd ffc fs7 fc0 sc0 ls0 ws0">12</div><div class="t m0 x63 h8 y8c ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _2"> </span>the<span class="_ _2"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _6"> </span>of<span class="_ _3"> </span>the<span class="_ _6"> </span><span class="ff5">.data<span class="_ _2"> </span></span>section.</div><div class="t m0 xc h8 y8be ff7 fs4 fc0 sc0 ls0 ws0">NOTE:<span class="_ _20"> </span><span class="ff3">Some<span class="_ _b"> </span>op<span class="_ _5"></span>erating<span class="_ _b"> </span>systems<span class="_ _b"> </span>conﬁgure<span class="_ _3"> </span>the<span class="_ _b"> </span>hardware<span class="_ _3"> </span>to<span class="_ _b"> </span>preven<span class="_ _27"></span>t<span class="_ _b"> </span>instructions<span class="_ _b"> </span>from<span class="_ _b"> </span>writing</span></div><div class="t m0 xc h8 y8bf ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _3"> </span>memory<span class="_ _b"> </span>addresses<span class="_ _b"> </span>assigned<span class="_ _3"> </span>to<span class="_ _b"> </span>the<span class="_ _3"> </span><span class="ff5">.text<span class="_ _b"> </span></span>and<span class="_ _b"> </span><span class="ff5">.rodata<span class="_ _3"> </span></span>sections.<span class="_ _1c"> </span>Hence,<span class="_ _b"> </span>v<span class="_ _27"></span>ariables<span class="_ _3"> </span>should<span class="_ _b"> </span>not</div><div class="t m0 xc h8 y8c0 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>e<span class="_ _34"> </span>placed<span class="_ _7"> </span>on<span class="_ _34"> </span>these<span class="_ _7"> </span>sections.<span class="_ _0"> </span>Also,<span class="_ _24"> </span>some<span class="_ _34"> </span>op<span class="_ _5"></span>erating<span class="_ _7"> </span>systems<span class="_ _7"> </span>conﬁgure<span class="_ _34"> </span>the<span class="_ _7"> </span>hardware<span class="_ _34"> </span>to<span class="_ _34"> </span>preven<span class="_ _27"></span>t</div><div class="t m0 xc h8 y8c1 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _6"> </span>CPU<span class="_ _2"> </span>from<span class="_ _2"> </span>executing<span class="_ _6"> </span>instructions<span class="_ _2"> </span>from<span class="_ _2"> </span>memory<span class="_ _6"> </span>addresses<span class="_ _2"> </span>that<span class="_ _2"> </span>are<span class="_ _6"> </span>not<span class="_ _2"> </span>assigned<span class="_ _2"> </span>to<span class="_ _6"> </span>the<span class="_ _2"> </span><span class="ff5">.text</span></div><div class="t m0 xc h8 y8c2 ff3 fs4 fc0 sc0 ls0 ws0">section.<span class="_ _7"> </span>Therefore,<span class="_ _2"> </span>it<span class="_ _2"> </span>is<span class="_ _6"> </span>imp<span class="_ _5"></span>ortant<span class="_ _6"> </span>to<span class="_ _2"> </span>keep<span class="_ _6"> </span>the<span class="_ _2"> </span>program<span class="_ _2"> </span>instructions<span class="_ _2"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">.text<span class="_ _2"> </span></span>section.</div><div class="t m0 xf he y8c3 ff6 fs3 fc0 sc0 ls0 ws0">3.4<span class="_ _37"> </span>Executable<span class="_ _4"> </span>vs<span class="_ _4"> </span>ob<span class="_ _6c"></span>ject<span class="_ _4"> </span>ﬁles</div><div class="t m0 xf h8 y8c4 ff3 fs4 fc0 sc0 ls0 ws0">The Executable<span class="_ _a"> </span>and Linking F<span class="_ _12"></span>ormat, or ELF,<span class="_ _a"> </span>is used b<span class="_ _27"></span>y sev<span class="_ _27"></span>eral Linux-based<span class="_ _a"> </span>op<span class="_ _5"></span>erating systems<span class="_ _a"> </span>to enco<span class="_ _5"></span>de</div><div class="t m0 xf h8 y8c5 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>oth ob<span class="_ _22"></span>ject and executable ﬁles.<span class="_ _7"> </span>Even though ob<span class="_ _5"></span>ject<span class="_ _6"> </span>and executable ﬁles<span class="_ _38"> </span>may contai<span class="_ _1"></span>n machine code<span class="_ _38"> </span>and</div><div class="t m0 xf h8 y8c6 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>oth<span class="_ _6"> </span>can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>enco<span class="_ _5"></span>ded<span class="_ _2"> </span>using<span class="_ _2"> </span>the<span class="_ _2"> </span>ELF,<span class="_ _2"> </span>they<span class="_ _2"> </span>diﬀer<span class="_ _2"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span>following<span class="_ _6"> </span>asp<span class="_ _5"></span>ects:</div><div class="t m0 xc h7 y8c7 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">Addresses<span class="_ _b"> </span>on<span class="_ _34"> </span>ob<span class="_ _22"></span>ject<span class="_ _b"> </span>ﬁles<span class="_ _b"> </span>are<span class="_ _34"> </span>not<span class="_ _b"> </span>ﬁnal<span class="_ _34"> </span>and<span class="_ _b"> </span>elements<span class="_ _b"> </span>from<span class="_ _b"> </span>diﬀerent<span class="_ _b"> </span>sections<span class="_ _b"> </span>may<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>assigned<span class="_ _b"> </span>the</span></div><div class="t m0 x13 h8 y8c8 ff3 fs4 fc0 sc0 ls0 ws0">same<span class="_ _3"> </span>addresses,<span class="_ _b"> </span>as<span class="_ _b"> </span>discussed<span class="_ _b"> </span>in<span class="_ _b"> </span>Section<span class="_ _3"> </span>3.3.<span class="_ _1c"> </span>As<span class="_ _b"> </span>a<span class="_ _b"> </span>consequence,<span class="_ _b"> </span>the<span class="_ _3"> </span>elements<span class="_ _3"> </span>of<span class="_ _b"> </span>diﬀerent<span class="_ _3"> </span>sections</div><div class="t m0 x13 h8 y8c9 ff3 fs4 fc0 sc0 ls0 ws0">ma<span class="_ _1"></span>y<span class="_ _2"> </span>not<span class="_ _2"> </span>reside<span class="_ _6"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span>main<span class="_ _2"> </span>memory<span class="_ _2"> </span>at<span class="_ _2"> </span>the<span class="_ _2"> </span>same<span class="_ _2"> </span>time;</div><div class="t m0 xc h7 y8ca ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">Ob<span class="_ _22"></span>ject<span class="_ _3"> </span>ﬁles<span class="_ _b"> </span>may<span class="_ _3"> </span>contain<span class="_ _3"> </span>one<span class="_ _b"> </span>or<span class="_ _3"> </span>more<span class="_ _b"> </span>references<span class="_ _b"> </span>to<span class="_ _b"> </span>undeﬁned<span class="_ _3"> </span>symbols,<span class="_ _34"> </span>which<span class="_ _3"> </span>are<span class="_ _b"> </span>expected<span class="_ _b"> </span>to<span class="_ _b"> </span>b<span class="_ _5"></span>e</span></div><div class="t m0 x13 h8 y8cb ff3 fs4 fc0 sc0 ls0 ws0">resolv<span class="_ _1"></span>ed<span class="_ _2"> </span>b<span class="_ _1"></span>y<span class="_ _2"> </span>the<span class="_ _6"> </span>linker;</div><div class="t m0 xc h7 y8cc ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">Ob<span class="_ _22"></span>ject ﬁles contain a relo<span class="_ _5"></span>cation table<span class="_ _6"> </span>so that<span class="_ _6"> </span>instructions and<span class="_ _38"> </span>data<span class="_ _6"> </span>on ob<span class="_ _22"></span>ject ﬁles<span class="_ _6"> </span>can b<span class="_ _5"></span>e<span class="_ _38"> </span>relo<span class="_ _5"></span>cated</span></div><div class="t m0 x13 h8 y8cd ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _2"> </span>linking.<span class="_ _7"> </span>Addresses<span class="_ _2"> </span>on<span class="_ _6"> </span>executable<span class="_ _3"> </span>ﬁles<span class="_ _6"> </span>are<span class="_ _2"> </span>usually<span class="_ _2"> </span>ﬁnal;</div><div class="t m0 xc h7 y8ce ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">Ob<span class="_ _22"></span>ject<span class="_ _6"> </span>ﬁles<span class="_ _2"> </span>do<span class="_ _2"> </span>not<span class="_ _2"> </span>hav<span class="_ _27"></span>e<span class="_ _2"> </span>an<span class="_ _2"> </span>entry<span class="_ _6"> </span>p<span class="_ _5"></span>oint;</span></div><div class="t m0 x40 h1e y8cf fff fsd fc0 sc0 ls0 ws0">12</div><div class="t m0 xc h1f y8d0 ff10 fse fc0 sc0 ls0 ws0">Although<span class="_ _6"> </span>the<span class="_ _6"> </span>output<span class="_ _6"> </span>of<span class="_ _6"> </span>the<span class="_ _6"> </span><span class="ff28">objdump<span class="_ _6"> </span></span>to<span class="_ _5"></span>ol<span class="_ _6"> </span>do<span class="_ _5"></span>es<span class="_ _6"> </span>not<span class="_ _6"> </span>make<span class="_ _38"> </span>it<span class="_ _6"> </span>clear,<span class="_ _6"> </span>the<span class="_ _6"> </span>linker<span class="_ _38"> </span>has<span class="_ _6"> </span>assigned<span class="_ _6"> </span>addresses<span class="_ _6"> </span><span class="ff28">10090<span class="_ _2"> </span></span>to<span class="_ _6"> </span><span class="ff28">10097<span class="_ _6"> </span></span>to</div><div class="t m0 xf h1f y8d1 ff10 fse fc0 sc0 ls0 ws0">the<span class="_ _6"> </span>conten<span class="_ _27"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _6"> </span><span class="ff28">.data<span class="_ _2"> </span></span>section.<span class="_ _18"> </span>Notice<span class="_ _6"> </span>that<span class="_ _2"> </span>v<span class="_ _27"></span>ariables<span class="_ _2"> </span><span class="ff28">x<span class="_ _6"> </span></span>and<span class="_ _2"> </span><span class="ff28">y<span class="_ _6"> </span></span>are<span class="_ _2"> </span>words,<span class="_ _6"> </span>which<span class="_ _6"> </span>means<span class="_ _6"> </span>each<span class="_ _6"> </span>of<span class="_ _2"> </span>them<span class="_ _6"> </span>o<span class="_ _5"></span>ccupies<span class="_ _2"> </span>4<span class="_ _6"> </span>bytes.</div><div class="t m0 xf h1f y8d2 ff10 fse fc0 sc0 ls0 ws0">V<span class="_ _9"></span>ariable<span class="_ _8b"> </span><span class="ff28">x<span class="_ _38"> </span></span>o<span class="_ _5"></span>ccupies<span class="_ _8b"> </span>the<span class="_ _8b"> </span>memory<span class="_ _38"> </span>bytes asso<span class="_ _5"></span>ciated<span class="_ _8b"> </span>with<span class="_ _8b"> </span>addresses<span class="_ _38"> </span><span class="ff28">10090</span>,<span class="_ _8b"> </span><span class="ff28">10091</span>,<span class="_ _38"> </span><span class="ff28">10092</span>,<span class="_ _8b"> </span>and<span class="_ _8b"> </span><span class="ff28">10093</span>,<span class="_ _38"> </span>while<span class="_ _8b"> </span>v<span class="_ _1"></span>ariable<span class="_ _8b"> </span><span class="ff28">y<span class="_ _8b"> </span></span>o<span class="_ _5"></span>ccupies</div><div class="t m0 xf h1f y8d3 ff10 fse fc0 sc0 ls0 ws0">the<span class="_ _38"> </span>bytes asso<span class="_ _5"></span>ciated<span class="_ _38"> </span>with<span class="_ _38"> </span>addresses<span class="_ _38"> </span><span class="ff28">10094</span>,<span class="_ _38"> </span><span class="ff28">10095</span>,<span class="_ _6"> </span><span class="ff28">10096</span>,<span class="_ _38"> </span>and<span class="_ _38"> </span><span class="ff28">10097</span>.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y144 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>F<span class="_ _9"></span>ebruary<span class="_ _2"> </span>10,<span class="_ _6"> </span>2025)</div><div class="t m0 xb8 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">40</div><a class="l" href="#pf35" data-dest-detail='[53,"XYZ",87.243,139.755,null]'><div class="d m1" style="border-style:none;position:absolute;left:182.723000px;bottom:532.779000px;width:10.433000px;height:10.102000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.673000px;bottom:468.572000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf31" data-dest-detail='[49,"XYZ",72,183.796,null]'><div class="d m1" style="border-style:none;position:absolute;left:272.753000px;bottom:335.795000px;width:14.722000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,499.142,null]'><div class="d m1" style="border-style:none;position:absolute;left:192.299000px;bottom:323.840000px;width:62.073000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
