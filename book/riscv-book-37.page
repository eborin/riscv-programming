<div id="pf25" class="pf w0 h0" data-page-no="25"><div class="pc pc25 w0 h0"><img class="bi xf y623 w2 h5c" alt="" src="bg25.png"/><div class="t m0 xf h8 y105 ff3 fs4 fc0 sc0 ls0 ws0">2.4.<span class="_ _1f"> </span>ORGANIZING<span class="_ _6"> </span>DA<span class="_ _12"></span>T<span class="_ _9"></span>A<span class="_ _2"> </span>ON<span class="_ _2"> </span>THE<span class="_ _2"> </span>MEMOR<span class="_ _9"></span>Y</div><div class="t m0 xf h8 y57 ff7 fs4 fc0 sc0 ls0 ws0">Memory<span class="_ _3"> </span>Alignment<span class="_ _3"> </span>and<span class="_ _b"> </span>P<span class="_ _27"></span>adding</div><div class="t m0 xf h8 y3c3 ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _3"> </span>the<span class="_ _b"> </span>previous<span class="_ _3"> </span>example,<span class="_ _b"> </span>all<span class="_ _b"> </span>ﬁelds<span class="_ _3"> </span>were<span class="_ _3"> </span>placed<span class="_ _3"> </span>consecutively<span class="_ _3"> </span>in<span class="_ _1"></span>to<span class="_ _3"> </span>memory<span class="_ _9"></span>,<span class="_ _b"> </span>with<span class="_ _b"> </span>no<span class="_ _3"> </span>gap<span class="_ _b"> </span>b<span class="_ _5"></span>et<span class="_ _1"></span>w<span class="_ _1"></span>een<span class="_ _3"> </span>them,</div><div class="t m0 xf h8 y3c4 ff3 fs4 fc0 sc0 ls0 ws0">ho<span class="_ _1"></span>w<span class="_ _1"></span>ev<span class="_ _1"></span>er,<span class="_ _2"> </span>due<span class="_ _2"> </span>to<span class="_ _2"> </span>memory<span class="_ _2"> </span>alignmen<span class="_ _1"></span>t<span class="_ _2"> </span>constrain<span class="_ _1"></span>ts,<span class="_ _6"> </span>this<span class="_ _2"> </span>is<span class="_ _2"> </span>not<span class="_ _2"> </span>alwa<span class="_ _27"></span>ys<span class="_ _2"> </span>p<span class="_ _5"></span>ossible.</div><div class="t m0 xc h8 y3c5 ff3 fs4 fc0 sc0 ls0 ws0">As discussed in<span class="_ _a"> </span>Section 2.4.2, the target platform<span class="_ _a"> </span>might require<span class="_ _a"> </span>multi-b<span class="_ _27"></span>yte data t<span class="_ _27"></span>yp<span class="_ _5"></span>es to b<span class="_ _5"></span>e aligned to</div><div class="t m0 xf h8 y3c8 ff3 fs4 fc0 sc0 ls0 ws0">sp<span class="_ _5"></span>eciﬁc<span class="_ _a"> </span>memory<span class="_ _a"> </span>addresses.<span class="_ _34"> </span>This same<span class="_ _35"> </span>constraint<span class="_ _a"> </span>t<span class="_ _1"></span>ypically<span class="_ _a"> </span>applies<span class="_ _a"> </span>to struct<span class="_ _35"> </span>ﬁelds, whic<span class="_ _1"></span>h<span class="_ _a"> </span>might<span class="_ _35"> </span>necessitate</div><div class="t m0 xf h8 y3c9 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>insertion<span class="_ _3"> </span>of<span class="_ _2"> </span>extra<span class="_ _3"> </span>bytes<span class="_ _6"> </span>(padding)<span class="_ _3"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een<span class="_ _3"> </span>ﬁelds<span class="_ _2"> </span>to<span class="_ _3"> </span>satisfy<span class="_ _2"> </span>alignment<span class="_ _2"> </span>requirements.<span class="_ _24"> </span>It<span class="_ _2"> </span>is<span class="_ _3"> </span>imp<span class="_ _5"></span>ortant</div><div class="t m0 xf h8 y3ca ff3 fs4 fc0 sc0 ls0 ws0">to note<span class="_ _6"> </span>that these<span class="_ _6"> </span>alignmen<span class="_ _1"></span>t rules<span class="_ _6"> </span>can v<span class="_ _27"></span>ary<span class="_ _6"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een diﬀerent ISAs and<span class="_ _6"> </span>even betw<span class="_ _27"></span>een<span class="_ _6"> </span>diﬀerent compilers.</div><div class="t m0 xf h8 y3cd ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _2"> </span>this<span class="_ _2"> </span>section,<span class="_ _3"> </span>w<span class="_ _1"></span>e<span class="_ _2"> </span>will<span class="_ _2"> </span>explore<span class="_ _3"> </span>the<span class="_ _2"> </span>approach<span class="_ _6"> </span>adopted<span class="_ _2"> </span>by<span class="_ _2"> </span>the<span class="_ _2"> </span>GNU<span class="_ _2"> </span>C<span class="_ _3"> </span>Compiler<span class="_ _2"> </span>(GCC)<span class="_ _2"> </span>when<span class="_ _3"> </span>generating</div><div class="t m0 xf h8 y3ce ff3 fs4 fc0 sc0 ls0 ws0">co<span class="_ _5"></span>de<span class="_ _6"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span>RISC-V<span class="_ _2"> </span>ISA.</div><div class="t m0 xc h8 y3d0 ff3 fs4 fc0 sc0 ls0 ws0">According<span class="_ _2"> </span>to<span class="_ _3"> </span>GCC’s<span class="_ _2"> </span>alignment<span class="_ _2"> </span>rules,<span class="_ _2"> </span>the<span class="_ _3"> </span><span class="ff5">id<span class="_ _3"> </span></span>(a<span class="_ _2"> </span>32-bit<span class="_ _3"> </span>in<span class="_ _1"></span>teger)<span class="_ _2"> </span>and<span class="_ _3"> </span><span class="ff5">level<span class="_ _2"> </span></span>(a<span class="_ _3"> </span>16-bit<span class="_ _2"> </span>integer)<span class="_ _2"> </span>ﬁelds<span class="_ _2"> </span>in</div><div class="t m0 xf h8 y3d1 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>previous<span class="_ _b"> </span>example<span class="_ _b"> </span>must<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>placed<span class="_ _b"> </span>at<span class="_ _b"> </span>addresses<span class="_ _b"> </span>that<span class="_ _3"> </span>are<span class="_ _b"> </span>multiples<span class="_ _3"> </span>of<span class="_ _b"> </span>four<span class="_ _3"> </span>and<span class="_ _b"> </span>tw<span class="_ _27"></span>o,<span class="_ _b"> </span>resp<span class="_ _5"></span>ectively<span class="_ _12"></span>.<span class="_ _1c"> </span>In</div><div class="t m0 xf h8 y3d4 ff3 fs4 fc0 sc0 ls0 ws0">this<span class="_ _b"> </span>case,<span class="_ _7"> </span>these<span class="_ _b"> </span>ﬁelds<span class="_ _34"> </span>happ<span class="_ _5"></span>en<span class="_ _34"> </span>to<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _34"> </span>aligned<span class="_ _34"> </span>consecutiv<span class="_ _1"></span>ely<span class="_ _b"> </span>in<span class="_ _34"> </span>memory<span class="_ _34"> </span>without<span class="_ _b"> </span>violating<span class="_ _34"> </span>any<span class="_ _b"> </span>alignmen<span class="_ _1"></span>t</div><div class="t m0 xf h8 y3d5 ff3 fs4 fc0 sc0 ls0 ws0">constrain<span class="_ _1"></span>ts.</div><div class="t m0 xc h8 y3d7 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>example<span class="_ _b"> </span>in<span class="_ _b"> </span>Figure<span class="_ _3"> </span>2.12<span class="_ _b"> </span>illustrates<span class="_ _b"> </span>a<span class="_ _b"> </span>scenario<span class="_ _3"> </span>where<span class="_ _b"> </span>padding<span class="_ _b"> </span>b<span class="_ _27"></span>ytes<span class="_ _b"> </span>are<span class="_ _b"> </span>necessary<span class="_ _b"> </span>to<span class="_ _3"> </span>align<span class="_ _b"> </span>ﬁelds</div><div class="t m0 xf h8 y3d8 ff3 fs4 fc0 sc0 ls0 ws0">to<span class="_ _6"> </span>addresses<span class="_ _2"> </span>that<span class="_ _2"> </span>are<span class="_ _2"> </span>multiples<span class="_ _6"> </span>of<span class="_ _2"> </span>their<span class="_ _2"> </span>resp<span class="_ _5"></span>ective<span class="_ _6"> </span>sizes.<span class="_ _7"> </span>The<span class="_ _2"> </span>second<span class="_ _2"> </span>ﬁeld,<span class="_ _2"> </span><span class="ff5">id</span>,<span class="_ _2"> </span>is<span class="_ _2"> </span>a<span class="_ _2"> </span>four-byte<span class="_ _6"> </span>in<span class="_ _1"></span>teger<span class="_ _2"> </span>that</div><div class="t m0 xf h8 y3d9 ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust b<span class="_ _5"></span>e stored at an<span class="_ _38"> </span>address<span class="_ _38"> </span>divisible<span class="_ _6"> </span>b<span class="_ _1"></span>y four.<span class="_ _34"> </span>This alignment is determined by the struct’s base address</div><div class="t m0 xf h8 y624 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _2"> </span>the<span class="_ _2"> </span>oﬀset<span class="_ _6"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>ﬁeld<span class="_ _2"> </span>within<span class="_ _2"> </span>the<span class="_ _2"> </span>struct.</div><div class="t m0 xc h8 y625 ff3 fs4 fc0 sc0 ls0 ws0">In this example, w<span class="_ _27"></span>e assume that the base<span class="_ _a"> </span>address is already aligned to<span class="_ _a"> </span>a multiple<span class="_ _a"> </span>of four.<span class="_ _34"> </span>T<span class="_ _9"></span>o main<span class="_ _1"></span>tain</div><div class="t m0 xf h8 y626 ff3 fs4 fc0 sc0 ls0 ws0">prop<span class="_ _5"></span>er<span class="_ _3"> </span>alignment,<span class="_ _2"> </span>padding<span class="_ _3"> </span>bytes<span class="_ _2"> </span>are<span class="_ _b"> </span>added<span class="_ _3"> </span>to<span class="_ _3"> </span>ensure<span class="_ _3"> </span>that<span class="_ _3"> </span>the<span class="_ _3"> </span>oﬀset<span class="_ _3"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een<span class="_ _3"> </span>the<span class="_ _3"> </span>base<span class="_ _b"> </span>address<span class="_ _3"> </span>and<span class="_ _3"> </span>the</div><div class="t m0 xf h8 y627 ff5 fs4 fc0 sc0 ls0 ws0">id<span class="_ _2"> </span><span class="ff3">ﬁeld<span class="_ _2"> </span>is<span class="_ _2"> </span>also<span class="_ _2"> </span>a<span class="_ _2"> </span>m<span class="_ _1"></span>ultiple<span class="_ _2"> </span>of<span class="_ _2"> </span>four.<span class="_ _7"> </span>Sp<span class="_ _5"></span>eciﬁcally<span class="_ _9"></span>,<span class="_ _2"> </span>three<span class="_ _6"> </span>padding<span class="_ _3"> </span>b<span class="_ _27"></span>ytes<span class="_ _2"> </span>are<span class="_ _2"> </span>inserted<span class="_ _2"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">age<span class="_ _2"> </span></span>and<span class="_ _2"> </span><span class="ff5">id</span></span></div><div class="t m0 xf h8 y628 ff3 fs4 fc0 sc0 ls0 ws0">ﬁelds<span class="_ _2"> </span>to<span class="_ _2"> </span>align<span class="_ _3"> </span>the<span class="_ _2"> </span><span class="ff5">id<span class="_ _2"> </span></span>ﬁeld<span class="_ _3"> </span>correctly<span class="_ _9"></span>.<span class="_ _24"> </span>Additionally<span class="_ _9"></span>,<span class="_ _2"> </span>a<span class="_ _2"> </span>single<span class="_ _3"> </span>padding<span class="_ _2"> </span>byte<span class="_ _6"> </span>is<span class="_ _3"> </span>inserted<span class="_ _2"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een<span class="_ _2"> </span>the<span class="_ _3"> </span><span class="ff5">height</span></div><div class="t m0 xf h8 y629 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _3"> </span><span class="ff5">level<span class="_ _b"> </span></span>ﬁelds<span class="_ _b"> </span>to<span class="_ _3"> </span>ensure<span class="_ _b"> </span>the<span class="_ _b"> </span>correct<span class="_ _3"> </span>alignment<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span><span class="ff5">level<span class="_ _b"> </span></span>ﬁeld.<span class="_ _1c"> </span>Notice<span class="_ _b"> </span>that<span class="_ _3"> </span>no<span class="_ _b"> </span>padding<span class="_ _3"> </span>bytes<span class="_ _3"> </span>are</div><div class="t m0 xf h8 y62a ff3 fs4 fc0 sc0 ls0 ws0">required<span class="_ _b"> </span>b<span class="_ _5"></span>etw<span class="_ _27"></span>een<span class="_ _34"> </span>the<span class="_ _34"> </span><span class="ff5">id<span class="_ _34"> </span></span>and<span class="_ _34"> </span><span class="ff5">height<span class="_ _34"> </span></span>ﬁelds<span class="_ _b"> </span>b<span class="_ _5"></span>ecause<span class="_ _34"> </span><span class="ff5">height<span class="_ _34"> </span></span>is<span class="_ _34"> </span>a<span class="_ _34"> </span>single<span class="_ _34"> </span>b<span class="_ _1"></span>yte<span class="_ _b"> </span>and<span class="_ _34"> </span>can<span class="_ _34"> </span>b<span class="_ _5"></span>e<span class="_ _34"> </span>stored<span class="_ _34"> </span>at<span class="_ _34"> </span>any</div><div class="t m0 xf h8 y62b ff3 fs4 fc0 sc0 ls0 ws0">address.</div><div class="t m0 x1e h9 y62c ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _7f"> </span><span class="ff5 fs4">struct<span class="_ _18"> </span>user_info<span class="_ _4"> </span>{</span></div><div class="t m0 x1e h9 y62d ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _87"> </span><span class="ff5 fs4">char<span class="_ _79"> </span>age;</span></div><div class="t m0 x1e h9 y62e ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _87"> </span><span class="ff5 fs4">int<span class="_ _3f"> </span>id;</span></div><div class="t m0 x1e h9 y62f ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _87"> </span><span class="ff5 fs4">char<span class="_ _79"> </span>height;</span></div><div class="t m0 x1e h9 y630 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _87"> </span><span class="ff5 fs4">short<span class="_ _18"> </span>level;</span></div><div class="t m0 x1e h9 y631 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _7f"> </span><span class="ff5 fs4">};</span></div><div class="t m0 xb3 h4e y632 ff2b fs1c fc0 sc0 ls0 ws0">(a)<span class="_ _6"> </span>Struct<span class="_ _6"> </span>deﬁnition</div><div class="c x11f y633 wf h5d"><div class="t m0 x12d h5e y634 ff31 fs24 fc0 sc0 ls0 ws0">Address<span class="_ _80"> </span><span class="ff32">Contents</span></div><div class="t m0 x27 h5f y635 ff33 fs24 fc0 sc0 ls0 ws0">000</div><div class="t m0 xf3 h5e y636 ff31 fs24 fc0 sc0 ls0 ws0">00000001</div><div class="t m0 x12a h60 y637 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y638 ff33 fs24 fc0 sc0 ls0 ws0">001</div><div class="t m0 xf3 h5e y639 ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12a h60 y63a ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y63b ff33 fs24 fc0 sc0 ls0 ws0">002</div><div class="t m0 xf3 h5e y63c ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12a h60 y63d ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y63e ff33 fs24 fc0 sc0 ls0 ws0">003</div><div class="t m0 xf3 h5e y63f ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12a h60 y640 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y641 ff33 fs24 fc0 sc0 ls0 ws0">004</div><div class="t m0 xf3 h5e y642 ff31 fs24 fc0 sc0 ls0 ws0">01001010</div><div class="t m0 x12a h60 y643 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y644 ff33 fs24 fc0 sc0 ls0 ws0">005</div><div class="t m0 x12e h5e y645 ff31 fs24 fc0 sc0 ls0 ws0">01<span class="_ _27"></span>1011<span class="_ _27"></span>1<span class="_ _1"></span>1</div><div class="t m0 x2b h60 y646 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y647 ff33 fs24 fc0 sc0 ls0 ws0">006</div><div class="t m0 xf3 h5e y648 ff31 fs24 fc0 sc0 ls0 ws0">01<span class="_ _27"></span>101011</div><div class="t m0 x12f h60 y649 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y64a ff33 fs24 fc0 sc0 ls0 ws0">007</div><div class="t m0 xf3 h5e y64b ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12f h60 y64c ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y64d ff33 fs24 fc0 sc0 ls0 ws0">008</div><div class="t m0 xf3 h5e y64e ff31 fs24 fc0 sc0 ls0 ws0">000001<span class="_ _27"></span>11</div><div class="t m0 x12f h60 y64f ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y650 ff33 fs24 fc0 sc0 ls0 ws0">009</div><div class="t m0 xf3 h5e y651 ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12f h60 y652 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y653 ff33 fs24 fc0 sc0 ls0 ws0">010</div><div class="t m0 xf3 h5e y654 ff31 fs24 fc0 sc0 ls0 ws0">00000101</div><div class="t m0 x12f h60 y655 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x27 h5f y656 ff33 fs24 fc0 sc0 ls0 ws0">011</div><div class="t m0 xf3 h5e y657 ff31 fs24 fc0 sc0 ls0 ws0">00000000</div><div class="t m0 x12f h60 y658 ff31 fs25 fc0 sc0 ls0 ws0">2</div><div class="t m0 x48 h61 y659 ff31 fs26 fc0 sc0 ls0 ws0">age</div><div class="t m0 x48 h61 y65a ff31 fs26 fc0 sc0 ls0 ws0">id</div><div class="t m0 x48 h61 y65b ff31 fs26 fc0 sc0 ls0 ws0">height</div><div class="t m0 x48 h62 y65c ff32 fs26 fc0 sc0 ls0 ws0">padding</div><div class="t m0 x48 h61 y65d ff31 fs26 fc0 sc0 ls0 ws0">level</div><div class="t m0 x48 h62 y65e ff32 fs26 fc0 sc0 ls0 ws0">padding</div></div><div class="t m0 x58 h4e y65f ff2b fs1c fc0 sc0 ls0 ws0">(b)<span class="_ _6"> </span>Memory<span class="_ _6"> </span>lay<span class="_ _27"></span>out</div><div class="t m0 x48 h8 y660 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>2.12:<span class="_ _7"> </span>Deﬁnition<span class="_ _2"> </span>and<span class="_ _6"> </span>memory<span class="_ _3"> </span>la<span class="_ _27"></span>yout<span class="_ _6"> </span>of<span class="_ _2"> </span>a<span class="_ _2"> </span>struct<span class="_ _2"> </span>data<span class="_ _2"> </span>type<span class="_ _2"> </span>that<span class="_ _2"> </span>requires<span class="_ _2"> </span>padding</div><div class="t m0 xc h8 y661 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>total<span class="_ _b"> </span>size<span class="_ _34"> </span>of<span class="_ _b"> </span>the<span class="_ _34"> </span>struct<span class="_ _b"> </span>in<span class="_ _b"> </span>the<span class="_ _34"> </span>previous<span class="_ _b"> </span>example<span class="_ _34"> </span>is<span class="_ _b"> </span>12<span class="_ _34"> </span>b<span class="_ _1"></span>ytes,<span class="_ _34"> </span>which<span class="_ _3"> </span>is<span class="_ _34"> </span>a<span class="_ _b"> </span>multiple<span class="_ _b"> </span>of<span class="_ _b"> </span>four.<span class="_ _d"> </span>This</div><div class="t m0 xf h8 y662 ff3 fs4 fc0 sc0 ls0 ws0">ensures<span class="_ _3"> </span>that<span class="_ _3"> </span>when<span class="_ _3"> </span>an<span class="_ _b"> </span>arra<span class="_ _27"></span>y<span class="_ _b"> </span>of<span class="_ _3"> </span><span class="ff5">user<span class="_ _3"> </span>info<span class="_ _b"> </span></span>structs<span class="_ _3"> </span>is<span class="_ _3"> </span>allo<span class="_ _5"></span>cated<span class="_ _3"> </span>in<span class="_ _3"> </span>memory<span class="_ _9"></span>,<span class="_ _b"> </span>all<span class="_ _3"> </span>elements<span class="_ _2"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span>arra<span class="_ _1"></span>y<span class="_ _3"> </span>and</div><div class="t m0 xf h8 y663 ff3 fs4 fc0 sc0 ls0 ws0">their<span class="_ _b"> </span>resp<span class="_ _5"></span>ectiv<span class="_ _1"></span>e<span class="_ _b"> </span>ﬁelds<span class="_ _b"> </span>will<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>prop<span class="_ _5"></span>erly<span class="_ _b"> </span>aligned<span class="_ _b"> </span>to<span class="_ _b"> </span>the<span class="_ _b"> </span>required<span class="_ _b"> </span>memory<span class="_ _b"> </span>addresses,<span class="_ _b"> </span>as<span class="_ _b"> </span>long<span class="_ _b"> </span>as<span class="_ _b"> </span>the<span class="_ _b"> </span>array</div><div class="t m0 xf h8 y664 ff3 fs4 fc0 sc0 ls0 ws0">starts<span class="_ _2"> </span>at<span class="_ _2"> </span>an<span class="_ _6"> </span>address<span class="_ _2"> </span>that<span class="_ _2"> </span>is<span class="_ _2"> </span>a<span class="_ _2"> </span>multiple<span class="_ _6"> </span>of<span class="_ _2"> </span>four.</div><div class="t m0 xc h8 y665 ff3 fs4 fc0 sc0 ls0 ws0">If<span class="_ _3"> </span>the<span class="_ _3"> </span>total<span class="_ _3"> </span>size<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span>struct<span class="_ _3"> </span>is<span class="_ _3"> </span>not<span class="_ _3"> </span>a<span class="_ _b"> </span>m<span class="_ _27"></span>ultiple<span class="_ _b"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>size<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _b"> </span>largest<span class="_ _3"> </span>data<span class="_ _3"> </span>type<span class="_ _3"> </span>within<span class="_ _3"> </span>the<span class="_ _b"> </span>struct</div><div class="t m0 xf h8 y666 ff3 fs4 fc0 sc0 ls0 ws0">(four<span class="_ _b"> </span>bytes<span class="_ _b"> </span>in<span class="_ _b"> </span>the<span class="_ _34"> </span>previous<span class="_ _b"> </span>examples),<span class="_ _34"> </span>trailing<span class="_ _34"> </span>padding<span class="_ _b"> </span>(<span class="ff8">i.e.</span>,<span class="_ _7"> </span>padding<span class="_ _b"> </span>added<span class="_ _34"> </span>at<span class="_ _b"> </span>the<span class="_ _34"> </span>end<span class="_ _b"> </span>of<span class="_ _34"> </span>the<span class="_ _34"> </span>struct)</div><div class="t m0 xf h8 y667 ff3 fs4 fc0 sc0 ls0 ws0">is<span class="_ _34"> </span>inserted<span class="_ _34"> </span>to<span class="_ _34"> </span>main<span class="_ _1"></span>tain<span class="_ _34"> </span>prop<span class="_ _5"></span>er<span class="_ _34"> </span>alignmen<span class="_ _1"></span>t.<span class="_ _39"> </span>Figure<span class="_ _34"> </span>2.13<span class="_ _34"> </span>provides<span class="_ _b"> </span>an<span class="_ _34"> </span>example<span class="_ _34"> </span>where<span class="_ _34"> </span>GCC<span class="_ _34"> </span>adds<span class="_ _34"> </span>trailing</div><div class="t m0 xf h8 y668 ff3 fs4 fc0 sc0 ls0 ws0">padding<span class="_ _3"> </span>to<span class="_ _b"> </span>ensure<span class="_ _3"> </span>that<span class="_ _b"> </span>the<span class="_ _b"> </span>size<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span>struct<span class="_ _b"> </span>is<span class="_ _3"> </span>a<span class="_ _b"> </span>multiple<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _b"> </span>largest<span class="_ _3"> </span>data<span class="_ _b"> </span>type<span class="_ _b"> </span>it<span class="_ _3"> </span>contains.<span class="_ _2a"> </span>In<span class="_ _3"> </span>this</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y13b ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y13c ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Septem<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _6"> </span>17,<span class="_ _2"> </span>2025)</div><div class="t m0 xb8 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">24</div><a class="l" href="#pf21" data-dest-detail='[33,"XYZ",72,490.943,null]'><div class="d m1" style="border-style:none;position:absolute;left:187.858000px;bottom:677.832000px;width:22.471000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:336.754000px;bottom:641.967000px;width:18.597000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.155000px;bottom:619.993000px;width:18.596000px;height:8.912000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf25" data-dest-detail='[37,"XYZ",72,435.685,null]'><div class="d m1" style="border-style:none;position:absolute;left:190.514000px;bottom:558.280000px;width:19.704000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf26" data-dest-detail='[38,"XYZ",72,703.195,null]'><div class="d m1" style="border-style:none;position:absolute;left:293.809000px;bottom:122.199000px;width:19.704000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
