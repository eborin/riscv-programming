<div id="pf36" class="pf w0 h0" data-page-no="36"><div class="pc pc36 w0 h0"><img class="bi xf y10c w15 h27" alt="" src="bg36.png"/><div class="t m0 xf hd yed ff6 fs8 fc0 sc0 ls0 ws0">Chapter<span class="_ _1f"> </span>4</div><div class="t m0 xf ha yee ff6 fs5 fc0 sc0 ls0 ws0">Assem<span class="_ _9"></span>bly<span class="_ _14"> </span>language</div><div class="t m0 xf h8 y8d4 ff3 fs4 fc0 sc0 ls0 ws0">Assem<span class="_ _1"></span>bly<span class="_ _2"> </span>programs<span class="_ _2"> </span>are<span class="_ _6"> </span>enco<span class="_ _5"></span>ded<span class="_ _2"> </span>as<span class="_ _2"> </span>plain<span class="_ _2"> </span>text<span class="_ _2"> </span>ﬁles<span class="_ _2"> </span>and<span class="_ _2"> </span>contain<span class="_ _6"> </span>four<span class="_ _2"> </span>main<span class="_ _2"> </span>elements:</div><div class="t m0 xc h7 y8d5 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff7">Commen<span class="_ _27"></span>ts<span class="ff3">:<span class="_ _34"> </span>comments<span class="_ _a"> </span>are textual notes that<span class="_ _a"> </span>are often used<span class="_ _a"> </span>to document information<span class="_ _a"> </span>on the code,</span></span></div><div class="t m0 x13 h8 y8d6 ff3 fs4 fc0 sc0 ls0 ws0">ho<span class="_ _1"></span>w<span class="_ _1"></span>ev<span class="_ _1"></span>er,<span class="_ _2"> </span>they<span class="_ _2"> </span>ha<span class="_ _1"></span>v<span class="_ _1"></span>e<span class="_ _2"> </span>no<span class="_ _2"> </span>eﬀect<span class="_ _2"> </span>on<span class="_ _6"> </span>the<span class="_ _2"> </span>c<span class="_ _5"></span>ode<span class="_ _2"> </span>generation<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>assembler<span class="_ _6"> </span>discards<span class="_ _2"> </span>them;</div><div class="t m0 xc h7 y8d7 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff7">Lab<span class="_ _5"></span>els<span class="ff3">:<span class="_ _0"> </span>as<span class="_ _18"> </span>discussed<span class="_ _24"> </span>in<span class="_ _18"> </span>Section<span class="_ _24"> </span>3.2.1,<span class="_ _4"> </span>lab<span class="_ _5"></span>els<span class="_ _24"> </span>are<span class="_ _18"> </span>“markers”<span class="_ _7"> </span>that<span class="_ _18"> </span>represent<span class="_ _7"> </span>program<span class="_ _18"> </span>lo<span class="_ _5"></span>cations.</span></span></div><div class="t m0 x13 h8 y8d8 ff3 fs4 fc0 sc0 ls0 ws0">They are<span class="_ _6"> </span>usually deﬁned<span class="_ _6"> </span>b<span class="_ _1"></span>y a<span class="_ _6"> </span>name ended<span class="_ _6"> </span>with the<span class="_ _6"> </span>suﬃx “:”<span class="_ _34"> </span>and<span class="_ _6"> </span>can b<span class="_ _5"></span>e<span class="_ _6"> </span>inserted into an assembly</div><div class="t m0 x13 h8 y8d9 ff3 fs4 fc0 sc0 ls0 ws0">program<span class="_ _3"> </span>to<span class="_ _b"> </span>“mark”<span class="_ _b"> </span>a<span class="_ _b"> </span>program<span class="_ _b"> </span>position<span class="_ _b"> </span>so<span class="_ _b"> </span>that<span class="_ _b"> </span>it<span class="_ _b"> </span>can<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>referred<span class="_ _b"> </span>to<span class="_ _b"> </span>b<span class="_ _27"></span>y<span class="_ _b"> </span>assembly<span class="_ _3"> </span>instructions<span class="_ _b"> </span>or</div><div class="t m0 x13 h8 y8da ff3 fs4 fc0 sc0 ls0 ws0">other<span class="_ _2"> </span>assem<span class="_ _1"></span>bly<span class="_ _2"> </span>commands,<span class="_ _6"> </span>such<span class="_ _6"> </span>as<span class="_ _2"> </span>assembly<span class="_ _6"> </span>directives;</div><div class="t m0 xc h7 y8db ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff7">Assem<span class="_ _27"></span>bly<span class="_ _2"> </span>instructions<span class="ff3">:<span class="_ _7"> </span>Assem<span class="_ _1"></span>bly instructions are<span class="_ _6"> </span>instructions that<span class="_ _38"> </span>are<span class="_ _6"> </span>conv<span class="_ _27"></span>erted by the assem-</span></span></div><div class="t m0 x13 h8 y8dc ff3 fs4 fc0 sc0 ls0 ws0">bler into mac<span class="_ _27"></span>hine instructions.<span class="_ _34"> </span>They are usually<span class="_ _38"> </span>enco<span class="_ _5"></span>ded<span class="_ _38"> </span>as<span class="_ _38"> </span>a string<span class="_ _38"> </span>that<span class="_ _38"> </span>contains a mnemonic and</div><div class="t m0 x13 h8 y8dd ff3 fs4 fc0 sc0 ls0 ws0">a sequence of parameters, kno<span class="_ _1"></span>wn as operands.<span class="_ _7"> </span>F<span class="_ _9"></span>or example, the “<span class="ff5">addi<span class="_ _4"> </span>a0,<span class="_ _18"> </span>a1,<span class="_ _4"> </span>1</span>” string contains</div><div class="t m0 x13 h8 y8de ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span><span class="ff5">addi<span class="_ _2"> </span></span>mnemonic<span class="_ _6"> </span>and<span class="_ _2"> </span>three<span class="_ _2"> </span>op<span class="_ _5"></span>erands:<span class="_ _7"> </span><span class="ff5">a0</span>,<span class="_ _2"> </span><span class="ff5">a1</span>,<span class="_ _2"> </span>and<span class="_ _2"> </span><span class="ff5">1</span>;</div><div class="t m0 xc h7 y8df ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff7">Assem<span class="_ _27"></span>bly<span class="_ _2a"> </span>directives<span class="ff3">:<span class="_ _1b"> </span>Assembly<span class="_ _24"> </span>directives<span class="_ _7"> </span>are<span class="_ _18"> </span>commands<span class="_ _24"> </span>used<span class="_ _18"> </span>to<span class="_ _24"> </span>co<span class="_ _5"></span>ordinate<span class="_ _24"> </span>the<span class="_ _18"> </span>assembling</span></span></div><div class="t m0 x13 h8 y8e0 ff3 fs4 fc0 sc0 ls0 ws0">pro<span class="_ _5"></span>cess.<span class="_ _34"> </span>They<span class="_ _6"> </span>are<span class="_ _6"> </span>interpreted by the<span class="_ _6"> </span>assem<span class="_ _1"></span>bler.<span class="_ _34"> </span>F<span class="_ _9"></span>or<span class="_ _6"> </span>example,<span class="_ _6"> </span>the<span class="_ _6"> </span><span class="ff5">.word<span class="_ _4"> </span>10<span class="_ _6"> </span></span>directiv<span class="_ _1"></span>e<span class="_ _38"> </span>instructs<span class="_ _6"> </span>the</div><div class="t m0 x13 h8 y8e1 ff3 fs4 fc0 sc0 ls0 ws0">assem<span class="_ _1"></span>bler<span class="_ _a"> </span>to<span class="_ _a"> </span>assemble<span class="_ _a"> </span>a<span class="_ _a"> </span>32-bit<span class="_ _a"> </span>v<span class="_ _27"></span>alue (10)<span class="_ _35"> </span>into<span class="_ _a"> </span>the<span class="_ _a"> </span>program.<span class="_ _34"> </span>Assembly<span class="_ _35"> </span>directives<span class="_ _35"> </span>are usually<span class="_ _35"> </span>enco<span class="_ _5"></span>ded</div><div class="t m0 x13 h8 y8e2 ff3 fs4 fc0 sc0 ls0 ws0">as<span class="_ _2"> </span>strings<span class="_ _2"> </span>that<span class="_ _6"> </span>contains<span class="_ _6"> </span>the<span class="_ _2"> </span>directive<span class="_ _6"> </span>name,<span class="_ _2"> </span>which<span class="_ _6"> </span>hav<span class="_ _27"></span>e<span class="_ _2"> </span>a<span class="_ _2"> </span>dot<span class="_ _2"> </span>(‘.’)<span class="_ _7"> </span>preﬁx,<span class="_ _2"> </span>and<span class="_ _2"> </span>its<span class="_ _2"> </span>arguments.</div><div class="t m0 xc h8 y8e3 ff3 fs4 fc0 sc0 ls0 ws0">As<span class="_ _6"> </span>discussed<span class="_ _6"> </span>b<span class="_ _5"></span>efore,<span class="_ _6"> </span>comments hav<span class="_ _27"></span>e<span class="_ _6"> </span>no<span class="_ _6"> </span>eﬀect<span class="_ _6"> </span>on<span class="_ _6"> </span>the<span class="_ _6"> </span>assembling pro<span class="_ _5"></span>cess<span class="_ _6"> </span>and<span class="_ _6"> </span>are<span class="_ _6"> </span>discarded<span class="_ _6"> </span>by<span class="_ _38"> </span>the<span class="_ _6"> </span>as-</div><div class="t m0 xf h8 y8e4 ff3 fs4 fc0 sc0 ls0 ws0">sem<span class="_ _1"></span>bler.<span class="_ _b"> </span>This<span class="_ _a"> </span>is<span class="_ _a"> </span>usually<span class="_ _35"> </span>p<span class="_ _5"></span>erformed<span class="_ _a"> </span>by<span class="_ _35"> </span>a<span class="_ _a"> </span>prepro<span class="_ _5"></span>cessor,<span class="_ _a"> </span>which<span class="_ _35"> </span>remov<span class="_ _27"></span>es<span class="_ _a"> </span>all<span class="_ _a"> </span>commen<span class="_ _1"></span>ts<span class="_ _35"> </span>and<span class="_ _a"> </span>extra<span class="_ _a"> </span>white<span class="_ _a"> </span>spaces.</div><div class="t m0 xf h8 y8e5 ff3 fs4 fc0 sc0 ls0 ws0">Once<span class="_ _3"> </span>commen<span class="_ _1"></span>ts<span class="_ _2"> </span>and<span class="_ _3"> </span>extra<span class="_ _3"> </span>white<span class="_ _3"> </span>spaces<span class="_ _3"> </span>are<span class="_ _3"> </span>discarded,<span class="_ _3"> </span>the<span class="_ _3"> </span>assembly<span class="_ _2"> </span>program<span class="_ _3"> </span>contains<span class="_ _2"> </span>only<span class="_ _3"> </span>three<span class="_ _3"> </span>kinds</div><div class="t m0 xf h8 y8e6 ff3 fs4 fc0 sc0 ls0 ws0">of<span class="_ _6"> </span>elements:<span class="_ _34"> </span>lab<span class="_ _5"></span>els,<span class="_ _6"> </span>assembly<span class="_ _6"> </span>instructions<span class="_ _6"> </span>and<span class="_ _6"> </span>assembly<span class="_ _6"> </span>directives.<span class="_ _34"> </span>Assuming<span class="_ _2"> </span><span class="ff5">&lt;label&gt;</span>,<span class="_ _6"> </span><span class="ff5">&lt;instruction&gt;</span>,</div><div class="t m0 xf h8 y8e7 ff3 fs4 fc0 sc0 ls0 ws0">and the <span class="ff5">&lt;directive&gt;<span class="_ _38"> </span></span>represent v<span class="_ _27"></span>alid lab<span class="_ _5"></span>els,<span class="_ _38"> </span>assembly instructions, and<span class="_ _38"> </span>assembly directives, respectively<span class="_ _12"></span>,</div><div class="t m0 xf h8 y8e8 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _6"> </span>following<span class="_ _6"> </span>regular<span class="_ _2"> </span>expression<span class="_ _2"> </span>can<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>used<span class="_ _2"> </span>to<span class="_ _2"> </span>summarize<span class="_ _6"> </span>the<span class="_ _2"> </span>syntax<span class="_ _6"> </span>of<span class="_ _2"> </span>the<span class="_ _6"> </span>assembly<span class="_ _6"> </span>language<span class="_ _2"> </span>once<span class="_ _2"> </span>its</div><div class="t m0 xf h8 y8e9 ff3 fs4 fc0 sc0 ls0 ws0">commen<span class="_ _1"></span>ts<span class="_ _2"> </span>and<span class="_ _2"> </span>extra<span class="_ _6"> </span>white<span class="_ _3"> </span>spaces<span class="_ _6"> </span>are<span class="_ _2"> </span>remov<span class="_ _27"></span>ed.</div><div class="t m0 xf1 h9 y8ea ff5 fs4 fc0 sc0 ls0 ws0">PROGRAM<span class="_ _18"> </span>-&gt;<span class="_ _4"> </span>LINES</div><div class="t m0 xf1 h9 y8eb ff5 fs4 fc0 sc0 ls0 ws0">LINES<span class="_ _3f"> </span>-&gt;<span class="_ _4"> </span>LINE<span class="_ _18"> </span>[‘\n’<span class="_ _4"> </span>LINES]</div><div class="t m0 xf1 h9 y8ec ff5 fs4 fc0 sc0 ls0 ws0">LINE<span class="_ _85"> </span>-&gt;<span class="_ _18"> </span>[&lt;label&gt;]<span class="_ _18"> </span>[&lt;instruction&gt;]<span class="_ _4"> </span>|</div><div class="t m0 x7b h9 y8ed ff5 fs4 fc0 sc0 ls0 ws0">[&lt;label&gt;]<span class="_ _18"> </span>[&lt;directive&gt;]</div><div class="t m0 xc h8 y8ee ff3 fs4 fc0 sc0 ls0 ws0">The ﬁrst<span class="_ _6"> </span>tw<span class="_ _27"></span>o<span class="_ _6"> </span>rules<span class="_ _6"> </span>of the<span class="_ _6"> </span>previous<span class="_ _6"> </span>regular<span class="_ _38"> </span>e<span class="_ _5"></span>xpression indicate<span class="_ _6"> </span>that<span class="_ _6"> </span>an<span class="_ _38"> </span>assembly program<span class="_ _6"> </span>is<span class="_ _6"> </span>comp<span class="_ _5"></span>osed</div><div class="t m0 xf h8 y8ef ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _3"> </span>one<span class="_ _3"> </span>or<span class="_ _b"> </span>more<span class="_ _3"> </span>lines,<span class="_ _b"> </span>which<span class="_ _2"> </span>are<span class="_ _b"> </span>delimited<span class="_ _3"> </span>by<span class="_ _3"> </span>the<span class="_ _3"> </span>end<span class="_ _3"> </span>of<span class="_ _b"> </span>line<span class="_ _3"> </span>character,<span class="_ _3"> </span><span class="ff8">i.e.</span>,<span class="_ _b"> </span>‘<span class="ff16">\<span class="ff5">n</span></span>’.<span class="_ _2a"> </span>The<span class="_ _3"> </span>last<span class="_ _3"> </span>rule<span class="_ _b"> </span>implies</div><div class="t m0 xf h8 y8f0 ff3 fs4 fc0 sc0 ls0 ws0">that:</div><div class="t m0 xc h7 y8f1 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff3">a line ma<span class="_ _27"></span>y b<span class="_ _5"></span>e empt<span class="_ _27"></span>y<span class="_ _9"></span>.<span class="_ _7"> </span>Notice that the <span class="ff5">&lt;label&gt;</span>, the <span class="ff5">&lt;instruction&gt;</span>, and the<span class="_ _a"> </span><span class="ff5">&lt;directive&gt;<span class="_ _38"> </span></span>elemen<span class="_ _1"></span>ts</span></div><div class="t m0 x13 h8 y8f2 ff3 fs4 fc0 sc0 ls0 ws0">are<span class="_ _2"> </span>optional</div><div class="t m0 x10c h12 y8f3 ffc fs7 fc0 sc0 ls0 ws0">1</div><div class="t m0 x77 h8 y8f2 ff3 fs4 fc0 sc0 ls0 ws0">;</div><div class="t m0 x2b h1e y142 fff fsd fc0 sc0 ls0 ws0">1</div><div class="t m0 xc h1f ye2 ff10 fse fc0 sc0 ls0 ws0">Elements expressed<span class="_ _38"> </span>b<span class="_ _5"></span>etw<span class="_ _1"></span>een<span class="_ _38"> </span>brack<span class="_ _27"></span>ets<span class="_ _38"> </span>on<span class="_ _38"> </span>a<span class="_ _38"> </span>regular<span class="_ _38"> </span>expression<span class="_ _38"> </span>are<span class="_ _38"> </span>optional.</div><div class="t m0 x14 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">41</div><a class="l" href="#pf2b" data-dest-detail='[43,"XYZ",72,653.554,null]'><div class="d m1" style="border-style:none;position:absolute;left:246.462000px;bottom:490.676000px;width:22.471000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:212.577000px;bottom:355.021000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf36" data-dest-detail='[54,"XYZ",87.243,111.352,null]'><div class="d m1" style="border-style:none;position:absolute;left:147.965000px;bottom:116.328000px;width:6.462000px;height:12.040000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
