<div id="pf44" class="pf w0 h0" data-page-no="44"><div class="pc pc44 w0 h0"><img class="bi xf yaba w2 ha0" alt="" src="bg44.png"/><div class="t m0 xf h8 y105 ff3 fs4 fc0 sc0 ls0 ws0">4.7.<span class="_ _1f"> </span>ASSEMBL<span class="_ _9"></span>Y<span class="_ _2"> </span>DIRECTIVES</div><div class="t m0 xf h8 y57 ff3 fs4 fc0 sc0 ls0 ws0">at<span class="_ _2"> </span>address<span class="_ _3"> </span>zero<span class="_ _3"> </span>and<span class="_ _3"> </span>each<span class="_ _2"> </span>assem<span class="_ _1"></span>bly<span class="_ _2"> </span>element<span class="_ _2"> </span>is<span class="_ _3"> </span>an<span class="_ _3"> </span>assembly<span class="_ _2"> </span>instruction<span class="_ _2"> </span>that<span class="_ _3"> </span>o<span class="_ _5"></span>ccupies<span class="_ _3"> </span>exactly<span class="_ _3"> </span>four<span class="_ _3"> </span>b<span class="_ _27"></span>ytes,</div><div class="t m0 xf h8 y86 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span><span class="ff5">.align<span class="_ _18"> </span>2<span class="_ _2"> </span></span>has<span class="_ _2"> </span>no<span class="_ _2"> </span>eï¬€ect<span class="_ _2"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>program.</div><div class="t m0 xc h8 y87 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _b"> </span>R<span class="_ _12"></span>V32I<span class="_ _b"> </span>ISA<span class="_ _b"> </span>allows<span class="_ _b"> </span>programs<span class="_ _b"> </span>to<span class="_ _b"> </span>load<span class="_ _b"> </span>and<span class="_ _34"> </span>store<span class="_ _b"> </span>data<span class="_ _b"> </span>on<span class="_ _34"> </span>unaligned<span class="_ _b"> </span>memory<span class="_ _b"> </span>addresses,<span class="_ _34"> </span>how<span class="_ _27"></span>ever,</div><div class="t m0 xf h8 y88 ff3 fs4 fc0 sc0 ls0 ws0">for<span class="_ _6"> </span>p<span class="_ _5"></span>erformance<span class="_ _2"> </span>reasons,<span class="_ _2"> </span>The<span class="_ _2"> </span>RISC-V<span class="_ _2"> </span>Instruction<span class="_ _2"> </span>Set<span class="_ _2"> </span>Manual<span class="_ _38"> </span>[4]<span class="_ _2"> </span>recommends<span class="_ _2"> </span>16-bit,<span class="_ _2"> </span>32-bit,<span class="_ _2"> </span>and<span class="_ _2"> </span>64-bit</div><div class="t m0 xf h8 y89 ff3 fs4 fc0 sc0 ls0 ws0">v<span class="_ _27"></span>alues<span class="_ _b"> </span>to<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>stored<span class="_ _b"> </span>on<span class="_ _b"> </span>addresses<span class="_ _b"> </span>that<span class="_ _3"> </span>are<span class="_ _b"> </span>multiple<span class="_ _b"> </span>of<span class="_ _b"> </span>t<span class="_ _27"></span>wo,<span class="_ _b"> </span>four,<span class="_ _b"> </span>and<span class="_ _b"> </span>eight,<span class="_ _b"> </span>resp<span class="_ _5"></span>ectively<span class="_ _12"></span>.<span class="_ _17"> </span>The<span class="_ _b"> </span>following</div><div class="t m0 xf h8 y8a ff3 fs4 fc0 sc0 ls0 ws0">co<span class="_ _5"></span>de<span class="_ _6"> </span>shows<span class="_ _6"> </span>who<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">.align<span class="_ _4"> </span>N<span class="_ _2"> </span></span>directive<span class="_ _6"> </span>can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>used<span class="_ _2"> </span>to<span class="_ _2"> </span>align<span class="_ _2"> </span>multi-b<span class="_ _27"></span>yte<span class="_ _2"> </span>v<span class="_ _27"></span>ariables<span class="_ _2"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>memory<span class="_ _9"></span>.</div><div class="t m0 x116 h9 y7a5 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">.data</span></div><div class="t m0 x116 h9 y7a6 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">.align<span class="_ _4"> </span>1</span></div><div class="t m0 x116 h9 y7a7 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _2a"> </span><span class="ff5 fs4">i:<span class="_ _4"> </span>.half<span class="_ _18"> </span>1<span class="_ _79"> </span>#<span class="_ _18"> </span>16-bit<span class="_ _4"> </span>variable<span class="_ _4"> </span>initialized<span class="_ _4"> </span>with<span class="_ _18"> </span>value<span class="_ _4"> </span>1</span></div><div class="t m0 x116 h9 y97c ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">.align<span class="_ _4"> </span>2</span></div><div class="t m0 x116 h9 y97d ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">x:<span class="_ _4"> </span>.word<span class="_ _18"> </span>9<span class="_ _79"> </span>#<span class="_ _18"> </span>32-bit<span class="_ _4"> </span>variable<span class="_ _4"> </span>initialized<span class="_ _4"> </span>with<span class="_ _18"> </span>value<span class="_ _4"> </span>9</span></div><div class="t m0 x116 h9 y956 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">.align<span class="_ _4"> </span>3</span></div><div class="t m0 x116 h9 y957 ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _2a"> </span><span class="ff5 fs4">y:<span class="_ _4"> </span>.dword<span class="_ _18"> </span>11<span class="_ _4"> </span>#<span class="_ _4"> </span>64-bit<span class="_ _4"> </span>variable<span class="_ _18"> </span>initialized<span class="_ _4"> </span>with<span class="_ _4"> </span>value<span class="_ _4"> </span>11</span></div><div class="t m0 x116 h9 y958 ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _2a"> </span><span class="ff5 fs4">.bss</span></div><div class="t m0 x116 h9 y959 ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _2a"> </span><span class="ff5 fs4">.align<span class="_ _4"> </span>3</span></div><div class="t m0 x126 h9 y95a ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _2a"> </span><span class="ff5 fs4">z:<span class="_ _4"> </span>.skip<span class="_ _18"> </span>8<span class="_ _3f"> </span>#<span class="_ _4"> </span>64-bit<span class="_ _4"> </span>variable<span class="_ _4"> </span>(uninitialized)</span></div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y13b ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y13c ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Septem<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _6"> </span>17,<span class="_ _2"> </span>2025)</div><div class="t m0 xb8 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">55</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,468.88,null]'><div class="d m1" style="border-style:none;position:absolute;left:138.341000px;bottom:696.221000px;width:18.597000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf98" data-dest-detail='[152,"XYZ",72,508.587,null]'><div class="d m1" style="border-style:none;position:absolute;left:346.314000px;bottom:686.204000px;width:6.974000px;height:8.412000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:427.705000px;bottom:683.713000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:459.231000px;bottom:683.713000px;width:14.170000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:510.103000px;bottom:683.713000px;width:14.169000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
