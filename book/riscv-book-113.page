<div id="pf71" class="pf w0 h0" data-page-no="71"><div class="pc pc71 w0 h0"><img class="bi xf y10c1 w2 hca" alt="" src="bg71.png"/><div class="t m0 xf h8 y10d ff3 fs4 fc0 sc0 ls0 ws0">7.6.<span class="_ _1f"> </span>GLOBAL<span class="_ _2"> </span>VS<span class="_ _2"> </span>LOCAL<span class="_ _2"> </span>V<span class="_ _12"></span>ARIABLES</div><div class="t m0 x114 h9 y894 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">.data</span></div><div class="t m0 x114 h9 y895 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">y:<span class="_ _4"> </span>.skip<span class="_ _18"> </span>4</span></div><div class="t m0 x114 h39 y896 ff22 fs11 fc0 sc0 ls0 ws0">3</div><div class="t m0 x114 h9 y897 ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">.text</span></div><div class="t m0 x114 h9 y898 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">main:</span></div><div class="t m0 x114 h9 y899 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _37"> </span><span class="ff5 fs4">la<span class="_ _3f"> </span>a0,<span class="_ _4"> </span>y<span class="_ _16"> </span>#<span class="_ _4"> </span>set<span class="_ _4"> </span>the<span class="_ _4"> </span>parameter<span class="_ _18"> </span>with<span class="_ _4"> </span>the<span class="_ _4"> </span>address<span class="_ _4"> </span>of<span class="_ _18"> </span>y</span></div><div class="t m0 x114 h9 y89a ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _37"> </span><span class="ff5 fs4">jal<span class="_ _7a"> </span>inc<span class="_ _86"> </span>#<span class="_ _4"> </span>invoke<span class="_ _4"> </span>inc</span></div><div class="t m0 x114 h9 y89b ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _37"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xc h8 y10c2 ff3 fs4 fc0 sc0 ls0 ws0">Reference<span class="_ _b"> </span>parameters<span class="_ _b"> </span>can<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _34"> </span>used<span class="_ _b"> </span>to<span class="_ _b"> </span>pass<span class="_ _b"> </span>information<span class="_ _34"> </span>in<span class="_ _b"> </span>and<span class="_ _b"> </span>out<span class="_ _b"> </span>of<span class="_ _34"> </span>routines.<span class="_ _17"> </span>Since<span class="_ _34"> </span>a<span class="_ _b"> </span>reference<span class="_ _b"> </span>is</div><div class="t m0 xf h8 y10c3 ff3 fs4 fc0 sc0 ls0 ws0">essen<span class="_ _1"></span>tially<span class="_ _3"> </span>a<span class="_ _3"> </span>memory<span class="_ _b"> </span>address,<span class="_ _3"> </span>the<span class="_ _b"> </span>information<span class="_ _3"> </span>b<span class="_ _5"></span>eing<span class="_ _3"> </span>passed<span class="_ _b"> </span>in<span class="_ _27"></span>to<span class="_ _b"> </span>or<span class="_ _3"> </span>out<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _3"> </span>routine<span class="_ _3"> </span>must<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>lo<span class="_ _5"></span>cated</div><div class="t m0 xf h8 y10c4 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _2"> </span>the<span class="_ _2"> </span>memory<span class="_ _9"></span>.</div><div class="t m0 xf he y10c5 ff6 fs3 fc0 sc0 ls0 ws0">7.6<span class="_ _37"> </span>Global<span class="_ _4"> </span>vs<span class="_ _4"> </span>lo<span class="_ _22"></span>cal<span class="_ _4"> </span>v<span class="_ _12"></span>ariables</div><div class="t m0 xf h8 y10c6 ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _3"> </span>high-level<span class="_ _3"> </span>languages,<span class="_ _3"> </span>such<span class="_ _3"> </span>as<span class="_ _3"> </span>“C”,<span class="_ _b"> </span>global<span class="_ _3"> </span>v<span class="_ _27"></span>ariables<span class="_ _b"> </span>are<span class="_ _3"> </span>v<span class="_ _27"></span>ariables<span class="_ _3"> </span>declared<span class="_ _b"> </span>outside<span class="_ _3"> </span>routines,<span class="_ _b"> </span>and<span class="_ _3"> </span>they</div><div class="t m0 xf h8 y10c7 ff3 fs4 fc0 sc0 ls0 ws0">can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _6"> </span>accessed<span class="_ _2"> </span>on<span class="_ _2"> </span>any<span class="_ _6"> </span>routine<span class="_ _2"> </span>in<span class="_ _2"> </span>the<span class="_ _2"> </span>program.</div><div class="t m0 xc h8 y10c8 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _6"> </span>following co<span class="_ _5"></span>de<span class="_ _2"> </span>shows an<span class="_ _2"> </span>example<span class="_ _6"> </span>of<span class="_ _6"> </span>a<span class="_ _2"> </span>“C”<span class="_ _6"> </span>program<span class="_ _2"> </span>with<span class="_ _6"> </span>a<span class="_ _6"> </span>global<span class="_ _2"> </span>v<span class="_ _27"></span>ariable<span class="_ _6"> </span>named<span class="_ _2"> </span><span class="ff5">x</span>.<span class="_ _34"> </span>Notice<span class="_ _2"> </span>that</div><div class="t m0 xf h8 y10c9 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>global<span class="_ _2"> </span>v<span class="_ _27"></span>ariable<span class="_ _6"> </span>may<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>accessed<span class="_ _2"> </span>from<span class="_ _2"> </span>within<span class="_ _2"> </span>any<span class="_ _6"> </span>routine.</div><div class="t m0 x114 h9 y10ca ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">int<span class="_ _4"> </span>x;</span></div><div class="t m0 x114 h39 y10cb ff22 fs11 fc0 sc0 ls0 ws0">2</div><div class="t m0 x114 h9 y10cc ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _2a"> </span><span class="ff5 fs4">int<span class="_ _4"> </span>main()</span></div><div class="t m0 x114 h9 y10cd ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">{</span></div><div class="t m0 x114 h9 y10ce ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _80"> </span><span class="ff5 fs4">return<span class="_ _18"> </span>x+1;</span></div><div class="t m0 x114 h9 y10cf ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">}</span></div><div class="t m0 xc h8 y10d0 ff7 fs4 fc0 sc0 ls0 ws0">Global<span class="_ _2"> </span>v<span class="_ _27"></span>ariables<span class="_ _3"> </span>are<span class="_ _2"> </span>allo<span class="_ _22"></span>cated on<span class="_ _3"> </span>the<span class="_ _3"> </span>static<span class="_ _2"> </span>data<span class="_ _3"> </span>space<span class="_ _3"> </span>b<span class="_ _1"></span>y<span class="_ _2"> </span>the<span class="_ _3"> </span>assembler and<span class="_ _3"> </span>are<span class="_ _2"> </span>usually</div><div class="t m0 xf h8 y10d1 ff7 fs4 fc0 sc0 ls0 ws0">declared<span class="_ _4"> </span>on<span class="_ _2a"> </span>assem<span class="_ _1"></span>bly<span class="_ _4"> </span>programs<span class="_ _2a"> </span>with<span class="_ _4"> </span>the<span class="_ _2a"> </span>help<span class="_ _4"> </span>of<span class="_ _2a"> </span>directives<span class="ff3">.<span class="_ _1e"> </span>The<span class="_ _24"> </span>follo<span class="_ _1"></span>wing<span class="_ _24"> </span>co<span class="_ _5"></span>de<span class="_ _24"> </span>shows<span class="_ _7"> </span>the</span></div><div class="t m0 xf h8 y10d2 ff3 fs4 fc0 sc0 ls0 ws0">assem<span class="_ _1"></span>bly<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span>previous<span class="_ _2"> </span>“C”<span class="_ _2"> </span>program.</div><div class="t m0 x114 h9 y10d3 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">.data</span></div><div class="t m0 x114 h9 y10d4 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">x:</span></div><div class="t m0 x114 h9 y10d5 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _80"> </span><span class="ff5 fs4">.skip<span class="_ _18"> </span>4</span></div><div class="t m0 x114 h39 y10d6 ff22 fs11 fc0 sc0 ls0 ws0">4</div><div class="t m0 x114 h9 y10d7 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">.text</span></div><div class="t m0 x114 h9 y10d8 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">main:</span></div><div class="t m0 x114 h9 y10d9 ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _80"> </span><span class="ff5 fs4">la<span class="_ _3f"> </span>a0,<span class="_ _4"> </span>x<span class="_ _5a"> </span>#<span class="_ _18"> </span>load<span class="_ _4"> </span>the<span class="_ _18"> </span>address<span class="_ _4"> </span>of<span class="_ _4"> </span>variable<span class="_ _4"> </span>x</span></div><div class="t m0 x114 h9 y10da ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _80"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a0,<span class="_ _4"> </span>0(a0)<span class="_ _16"> </span>#<span class="_ _4"> </span>load<span class="_ _4"> </span>the<span class="_ _4"> </span>value<span class="_ _18"> </span>o<span class="_ _4"> </span>x</span></div><div class="t m0 x114 h9 y10db ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _80"> </span><span class="ff5 fs4">addi<span class="_ _18"> </span>a0,<span class="_ _4"> </span>a0,<span class="_ _4"> </span>1<span class="_ _7a"> </span>#<span class="_ _18"> </span>increment<span class="_ _4"> </span>the<span class="_ _4"> </span>value</span></div><div class="t m0 x126 h9 y10dc ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _80"> </span><span class="ff5 fs4">ret<span class="_ _96"> </span>#<span class="_ _18"> </span>return</span></div><div class="t m0 xc h8 y10dd ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _3"> </span>the<span class="_ _3"> </span>previous<span class="_ _3"> </span>co<span class="_ _5"></span>de,<span class="_ _3"> </span>the<span class="_ _3"> </span><span class="ff5">.data<span class="_ _3"> </span></span>directive<span class="_ _2"> </span>(line<span class="_ _3"> </span>1)<span class="_ _3"> </span>informs<span class="_ _3"> </span>the<span class="_ _3"> </span>assembler<span class="_ _2"> </span>that<span class="_ _3"> </span>the<span class="_ _3"> </span>following<span class="_ _2"> </span>conten<span class="_ _27"></span>ts</div><div class="t m0 xf h8 y10de ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>placed<span class="_ _b"> </span>in<span class="_ _27"></span>to<span class="_ _b"> </span>the<span class="_ _b"> </span>static<span class="_ _3"> </span>data<span class="_ _b"> </span>space.<span class="_ _1c"> </span>The<span class="_ _3"> </span><span class="ff5">x<span class="_ _b"> </span></span>lab<span class="_ _5"></span>el<span class="_ _3"> </span>marks<span class="_ _b"> </span>the<span class="_ _b"> </span>address<span class="_ _3"> </span>of<span class="_ _b"> </span>v<span class="_ _27"></span>ariable<span class="_ _b"> </span><span class="ff5">x</span>.<span class="_ _2a"> </span>The<span class="_ _b"> </span><span class="ff5">.skip<span class="_ _4"> </span>4</span></div><div class="t m0 xf h8 y10df ff3 fs4 fc0 sc0 ls0 ws0">directiv<span class="_ _1"></span>e<span class="_ _2"> </span>(line<span class="_ _3"> </span>3)<span class="_ _3"> </span>instructs<span class="_ _3"> </span>the<span class="_ _2"> </span>assembler<span class="_ _2"> </span>to<span class="_ _3"> </span>skip<span class="_ _3"> </span>four<span class="_ _2"> </span>bytes,<span class="_ _2"> </span>which<span class="_ _2"> </span>is<span class="_ _3"> </span>used<span class="_ _3"> </span>to<span class="_ _2"> </span>allo<span class="_ _5"></span>cate<span class="_ _3"> </span>space<span class="_ _3"> </span>for<span class="_ _2"> </span>v<span class="_ _27"></span>ariable</div><div class="t m0 xf h8 y10e0 ff5 fs4 fc0 sc0 ls0 ws0">x<span class="ff3">.<span class="_ _2a"> </span>The<span class="_ _b"> </span></span>.text<span class="_ _b"> </span><span class="ff3">directiv<span class="_ _27"></span>e<span class="_ _b"> </span>(line<span class="_ _b"> </span>5)<span class="_ _3"> </span>informs<span class="_ _b"> </span>the<span class="_ _b"> </span>assem<span class="_ _27"></span>bler<span class="_ _b"> </span>that<span class="_ _b"> </span>the<span class="_ _3"> </span>following<span class="_ _3"> </span>conten<span class="_ _27"></span>ts<span class="_ _b"> </span>m<span class="_ _27"></span>ust<span class="_ _b"> </span>now<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>placed</span></div><div class="t m0 xf h8 y10e1 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>space.<span class="_ _7"> </span>The<span class="_ _2"> </span>remainder<span class="_ _2"> </span>of<span class="_ _2"> </span>the<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _2"> </span>(lines<span class="_ _2"> </span>6-10)<span class="_ _2"> </span>implements<span class="_ _6"> </span>the<span class="_ _2"> </span>main<span class="_ _2"> </span>routine.</div><div class="t m0 xc h8 y839 ff3 fs4 fc0 sc0 ls0 ws0">In high-level languages,<span class="_ _6"> </span>such as<span class="_ _6"> </span>in<span class="_ _6"> </span>“C”,<span class="_ _6"> </span>lo<span class="_ _5"></span>cal<span class="_ _38"> </span>v<span class="_ _27"></span>ariables<span class="_ _6"> </span>are<span class="_ _6"> </span>v<span class="_ _27"></span>ariables<span class="_ _6"> </span>declared<span class="_ _6"> </span>inside<span class="_ _38"> </span>routines,<span class="_ _6"> </span>and<span class="_ _6"> </span>can</div><div class="t m0 xf h8 ye0 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>e<span class="_ _6"> </span>used<span class="_ _2"> </span>only<span class="_ _2"> </span>inside<span class="_ _2"> </span>the<span class="_ _2"> </span>routine<span class="_ _2"> </span>that<span class="_ _2"> </span>declared<span class="_ _2"> </span>it.</div><div class="t m0 xc h8 ye1 ff3 fs4 fc0 sc0 ls0 ws0">Ideally<span class="_ _9"></span>,<span class="_ _2"> </span>lo<span class="_ _5"></span>cal<span class="_ _2"> </span>v<span class="_ _27"></span>ariables<span class="_ _3"> </span>should<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>allo<span class="_ _5"></span>cated<span class="_ _3"> </span>on<span class="_ _2"> </span>registers.<span class="_ _24"> </span>The<span class="_ _3"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _2"> </span>contains<span class="_ _2"> </span>a<span class="_ _2"> </span>lo<span class="_ _5"></span>cal<span class="_ _2"> </span>v<span class="_ _27"></span>ariable</div><div class="t m0 xf h8 ye2 ff3 fs4 fc0 sc0 ls0 ws0">called<span class="_ _2"> </span><span class="ff5">tmp<span class="_ _2"> </span></span>that<span class="_ _6"> </span>can<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>allo<span class="_ _5"></span>cated<span class="_ _2"> </span>on<span class="_ _2"> </span>a<span class="_ _2"> </span>register.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y144 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>August<span class="_ _6"> </span>28,<span class="_ _2"> </span>2024)</div><div class="t m0 x9c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">100</div><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
