<div id="pf8d" class="pf w0 h0" data-page-no="8d"><div class="pc pc8d w0 h0"><img class="bi xf y136f w2 hf9" alt="" src="bg8d.png"/><div class="t m0 xf h8 y105 ff3 fs4 fc0 sc0 ls0 ws0">9.3.<span class="_ _1f"> </span>INTERRUPTS<span class="_ _6"> </span>ON<span class="_ _2"> </span>R<span class="_ _12"></span>V32I</div><div class="t m0 xc h7 y57 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">mie<span class="_ _b"> </span><span class="ff3">(Machine<span class="_ _b"> </span>Interrupt<span class="_ _b"> </span>Enable):<span class="_ _1c"> </span>There<span class="_ _b"> </span>may<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>several<span class="_ _b"> </span>sources<span class="_ _b"> </span>of<span class="_ _34"> </span>interrupts<span class="_ _b"> </span>on<span class="_ _b"> </span>RISC-V<span class="_ _34"> </span>CPUs.</span></span></div><div class="t m0 x13 h8 y86 ff3 fs4 fc0 sc0 ls0 ws0">The mac<span class="_ _27"></span>hine in<span class="_ _27"></span>terrupt enable<span class="_ _a"> </span>CSR allo<span class="_ _27"></span>ws the<span class="_ _a"> </span>system to<span class="_ _a"> </span>conﬁgure whic<span class="_ _1"></span>h in<span class="_ _27"></span>terrupts m<span class="_ _27"></span>ust be enabled</div><div class="t m0 x13 h8 y87 ff3 fs4 fc0 sc0 ls0 ws0">or<span class="_ _b"> </span>disabled,<span class="_ _7"> </span><span class="ff8">i.e.</span>,<span class="_ _34"> </span>which<span class="_ _b"> </span>in<span class="_ _1"></span>terrupts<span class="_ _b"> </span>must<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>taken<span class="_ _b"> </span>by<span class="_ _b"> </span>the<span class="_ _b"> </span>CPU<span class="_ _34"> </span>and<span class="_ _34"> </span>which<span class="_ _3"> </span>must<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _34"> </span>ignored.<span class="_ _39"> </span>The</div><div class="t m0 x13 h8 y88 ff3 fs4 fc0 sc0 ls0 ws0">follo<span class="_ _1"></span>wing<span class="_ _2"> </span>subﬁelds<span class="_ _2"> </span>con<span class="_ _1"></span>trol<span class="_ _6"> </span>the<span class="_ _3"> </span>in<span class="_ _27"></span>terrupt<span class="_ _2"> </span>handling<span class="_ _2"> </span>mechanism<span class="_ _6"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>Machine<span class="_ _6"> </span>mo<span class="_ _5"></span>de:</div><div class="t m0 xbe h8 ydb ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mie<span class="ff3">.</span>MEIE<span class="ff3">:<span class="_ _7"> </span>The<span class="_ _7"> </span>Machine<span class="_ _34"> </span>External<span class="_ _24"> </span>In<span class="_ _1"></span>terrupt<span class="_ _7"> </span>Enabled<span class="_ _7"> </span>subﬁeld<span class="_ _24"> </span>(bit<span class="_ _7"> </span>11)<span class="_ _7"> </span>controls<span class="_ _34"> </span>whether<span class="_ _24"> </span>the</span></span></div><div class="t m0 x13a h8 y13e ff3 fs4 fc0 sc0 ls0 ws0">CPU<span class="_ _2"> </span>m<span class="_ _1"></span>ust<span class="_ _2"> </span>accept<span class="_ _6"> </span>or<span class="_ _3"> </span>ignore<span class="_ _6"> </span>external<span class="_ _2"> </span>interrupts.</div><div class="t m0 xbe h8 y224 ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mie<span class="ff3">.</span>MTIE<span class="ff3">:<span class="_ _6"> </span>RISC-V<span class="_ _2"> </span>CPUs<span class="_ _2"> </span>contain<span class="_ _6"> </span>an<span class="_ _2"> </span>internal<span class="_ _6"> </span>timer<span class="_ _6"> </span>that<span class="_ _2"> </span>may<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>conﬁgured<span class="_ _2"> </span>to<span class="_ _2"> </span>generate<span class="_ _6"> </span>inter-</span></span></div><div class="t m0 x13a h8 y225 ff3 fs4 fc0 sc0 ls0 ws0">rupts.<span class="_ _34"> </span>The<span class="_ _38"> </span>Machine Timer<span class="_ _38"> </span>Interrupt Enabled subﬁeld<span class="_ _6"> </span>(bit 7)<span class="_ _6"> </span>controls whether the<span class="_ _38"> </span>CPU<span class="_ _6"> </span>must</div><div class="t m0 x13a h8 y226 ff3 fs4 fc0 sc0 ls0 ws0">accept<span class="_ _2"> </span>or<span class="_ _2"> </span>ignore<span class="_ _6"> </span>interrupts<span class="_ _6"> </span>from<span class="_ _2"> </span>this<span class="_ _2"> </span>timer.</div><div class="t m0 xbe h8 y140 ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mie<span class="ff3">.</span>MSIE<span class="ff3">: The Mac<span class="_ _1"></span>hine Soft<span class="_ _1"></span>w<span class="_ _1"></span>are Interru<span class="_ _1"></span>pt Enabled subﬁeld (bit 3) controls whether the CPU</span></span></div><div class="t m0 x13a h8 yae1 ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust<span class="_ _2"> </span>accept<span class="_ _2"> </span>or<span class="_ _6"> </span>ignore<span class="_ _3"> </span>soft<span class="_ _27"></span>ware<span class="_ _6"> </span>interrupts</div><div class="t m0 x9f h12 y1485 ffc fs7 fc0 sc0 ls0 ws0">8</div><div class="t m0 x53 h8 yae1 ff3 fs4 fc0 sc0 ls0 ws0">on<span class="_ _2"> </span>Mac<span class="_ _1"></span>hine<span class="_ _2"> </span>mo<span class="_ _5"></span>de.</div><div class="t m0 x21 h8 y1486 ff7 fs4 fc0 sc0 ls0 ws0">NOTE:<span class="_ _20"> </span><span class="ff3">The <span class="ff5">mstatus</span>.<span class="ff5">MIE<span class="_ _38"> </span></span>subﬁeld im<span class="_ _5"></span>plemen<span class="_ _27"></span>ts<span class="_ _6"> </span>a global interrupt enable mec<span class="_ _1"></span>hanism while</span></div><div class="t m0 x21 h8 y1487 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span><span class="ff5">mie<span class="_ _3"> </span></span>CSR<span class="_ _3"> </span>allows<span class="_ _6"> </span>for<span class="_ _3"> </span>a<span class="_ _3"> </span>more<span class="_ _3"> </span>ﬁne-grained<span class="_ _2"> </span>conﬁguration.<span class="_ _18"> </span>The<span class="_ _3"> </span>CPU<span class="_ _3"> </span>ignores<span class="_ _3"> </span>all<span class="_ _2"> </span>interrupts</div><div class="t m0 x21 h8 y1488 ff3 fs4 fc0 sc0 ls0 ws0">if the <span class="ff5">mstatus</span>.<span class="ff5">MIE<span class="_ _6"> </span></span>subﬁeld contains the v<span class="_ _27"></span>alue<span class="_ _38"> </span><span class="ff5">0</span>,<span class="_ _6"> </span>even if the <span class="ff5">mie<span class="_ _6"> </span></span>CSR is<span class="_ _6"> </span>enabling interrupts.</div><div class="t m0 xc h7 y1489 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">mip<span class="_ _6"> </span><span class="ff3">(Machine<span class="_ _6"> </span>Interrupt<span class="_ _6"> </span>Pending):<span class="_ _34"> </span>The<span class="_ _2"> </span>machine<span class="_ _6"> </span>interrupt<span class="_ _6"> </span>p<span class="_ _5"></span>ending<span class="_ _2"> </span>CSR<span class="_ _2"> </span>registers<span class="_ _2"> </span>whic<span class="_ _1"></span>h<span class="_ _2"> </span>in<span class="_ _1"></span>terrupts</span></span></div><div class="t m0 x13 h8 y148a ff3 fs4 fc0 sc0 ls0 ws0">are p<span class="_ _5"></span>ending, <span class="ff8">i.e.</span>,<span class="_ _6"> </span>they hav<span class="_ _27"></span>e b<span class="_ _5"></span>een signaled but<span class="_ _38"> </span>not<span class="_ _38"> </span>handled<span class="_ _38"> </span>by the CPU yet.<span class="_ _b"> </span>The following subﬁelds</div><div class="t m0 x13 h8 y148b ff3 fs4 fc0 sc0 ls0 ws0">indicate<span class="_ _2"> </span>the<span class="_ _2"> </span>status<span class="_ _6"> </span>of<span class="_ _2"> </span>p<span class="_ _5"></span>ending<span class="_ _2"> </span>interrupts<span class="_ _6"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>Machine<span class="_ _6"> </span>mo<span class="_ _5"></span>de:</div><div class="t m0 xbe h8 y148c ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mip<span class="ff3">.</span>MEIP<span class="ff3">:<span class="_ _7"> </span>The<span class="_ _7"> </span>Machine<span class="_ _34"> </span>External<span class="_ _7"> </span>Interrupt<span class="_ _34"> </span>Pending<span class="_ _34"> </span>subﬁeld<span class="_ _7"> </span>(bit<span class="_ _7"> </span>11)<span class="_ _24"> </span>indicates<span class="_ _7"> </span>whether<span class="_ _7"> </span>an</span></span></div><div class="t m0 x13a h8 y148d ff3 fs4 fc0 sc0 ls0 ws0">external<span class="_ _2"> </span>in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>is<span class="_ _6"> </span>p<span class="_ _5"></span>ending.</div><div class="t m0 xbe h8 y148e ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mip<span class="ff3">.</span>MTIP<span class="ff3">:<span class="_ _b"> </span>The<span class="_ _b"> </span>Machine<span class="_ _3"> </span>Timer<span class="_ _b"> </span>Interrupt<span class="_ _3"> </span>Pending<span class="_ _3"> </span>subﬁeld<span class="_ _b"> </span>(bit<span class="_ _34"> </span>7)<span class="_ _b"> </span>indicates<span class="_ _b"> </span>whether<span class="_ _b"> </span>a<span class="_ _b"> </span>timer</span></span></div><div class="t m0 x13a h8 y148f ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>is<span class="_ _2"> </span>p<span class="_ _5"></span>ending.</div><div class="t m0 xbe h8 y1490 ff7 fs4 fc0 sc0 ls0 ws0">–<span class="_ _18"> </span><span class="ff5">mip<span class="ff3">.</span>MSIP<span class="ff3">:<span class="_ _2"> </span>The<span class="_ _2"> </span>Machine<span class="_ _6"> </span>Softw<span class="_ _27"></span>are<span class="_ _2"> </span>Interrupt<span class="_ _2"> </span>P<span class="_ _1"></span>ending<span class="_ _2"> </span>subﬁeld<span class="_ _2"> </span>(bit<span class="_ _2"> </span>3)<span class="_ _2"> </span>indicates<span class="_ _3"> </span>whether<span class="_ _2"> </span>a<span class="_ _2"> </span>soft-</span></span></div><div class="t m0 x13a h8 y1491 ff3 fs4 fc0 sc0 ls0 ws0">w<span class="_ _1"></span>are<span class="_ _2"> </span>in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>is<span class="_ _6"> </span>p<span class="_ _5"></span>ending.</div><div class="t m0 xc h7 y1492 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">mepc<span class="_ _3"> </span><span class="ff3">(Machine<span class="_ _3"> </span>Exception<span class="_ _3"> </span>Program<span class="_ _b"> </span>Coun<span class="_ _1"></span>ter):<span class="_ _4"> </span>Up<span class="_ _5"></span>on<span class="_ _3"> </span>an<span class="_ _b"> </span>in<span class="_ _1"></span>terrupt,<span class="_ _3"> </span>the<span class="_ _b"> </span>CPU<span class="_ _3"> </span>sav<span class="_ _27"></span>es<span class="_ _b"> </span>the<span class="_ _3"> </span>conten<span class="_ _27"></span>ts<span class="_ _b"> </span>of</span></span></div><div class="t m0 x13 h8 y1493 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>PC<span class="_ _2"> </span>register<span class="_ _6"> </span>into<span class="_ _6"> </span>the<span class="_ _2"> </span>machine<span class="_ _6"> </span>exception<span class="_ _2"> </span>program<span class="_ _2"> </span>counter<span class="_ _6"> </span>CSR.</div><div class="t m0 xc h7 y1494 ff4 fs4 fc0 sc0 ls0 ws0">•<span class="_ _18"> </span><span class="ff5">mscratch<span class="_ _7"> </span><span class="ff3">(Machine<span class="_ _34"> </span>Scratch):<span class="_ _39"> </span>The<span class="_ _7"> </span>machine<span class="_ _34"> </span>scratch<span class="_ _7"> </span>CSR<span class="_ _7"> </span>is<span class="_ _24"> </span>a<span class="_ _7"> </span>scratch<span class="_ _34"> </span>register<span class="_ _24"> </span>that<span class="_ _7"> </span>is<span class="_ _24"> </span>visible<span class="_ _7"> </span>in</span></span></div><div class="t m0 x13 h8 y1495 ff3 fs4 fc0 sc0 ls0 ws0">mac<span class="_ _1"></span>hine<span class="_ _24"> </span>mo<span class="_ _5"></span>de.<span class="_ _14"> </span>Section<span class="_ _18"> </span>9.3.4<span class="_ _18"> </span>discusses<span class="_ _18"> </span>ho<span class="_ _1"></span>w<span class="_ _24"> </span>it<span class="_ _18"> </span>can<span class="_ _18"> </span>b<span class="_ _5"></span>e<span class="_ _24"> </span>used<span class="_ _18"> </span>to<span class="_ _18"> </span>supp<span class="_ _5"></span>ort<span class="_ _18"> </span>the<span class="_ _24"> </span>implementation<span class="_ _24"> </span>of</div><div class="t m0 x13 h8 y1496 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>service<span class="_ _2"> </span>routines.</div><div class="t m0 xf hb y1497 ff6 fs6 fc0 sc0 ls0 ws0">9.3.3<span class="_ _11"> </span>In<span class="_ _27"></span>terrupt<span class="_ _7"> </span>handling<span class="_ _24"> </span>ﬂo<span class="_ _27"></span>w</div><div class="t m0 xf h8 y1498 ff3 fs4 fc0 sc0 ls0 ws0">As discussed<span class="_ _a"> </span>in Section<span class="_ _a"> </span>9.2, to handle<span class="_ _a"> </span>external in<span class="_ _27"></span>terrupts, the system<span class="_ _a"> </span>must<span class="_ _a"> </span>sav<span class="_ _27"></span>e the<span class="_ _a"> </span>context<span class="_ _a"> </span>of the<span class="_ _a"> </span>current</div><div class="t m0 xf h8 y1499 ff3 fs4 fc0 sc0 ls0 ws0">program,<span class="_ _3"> </span>execute<span class="_ _3"> </span>a<span class="_ _3"> </span>routine<span class="_ _3"> </span>to<span class="_ _3"> </span>handle<span class="_ _3"> </span>the<span class="_ _3"> </span>hardware<span class="_ _2"> </span>interrupt,<span class="_ _3"> </span>and,<span class="_ _3"> </span>ﬁnally<span class="_ _9"></span>,<span class="_ _3"> </span>restore<span class="_ _3"> </span>the<span class="_ _3"> </span>sav<span class="_ _27"></span>ed<span class="_ _3"> </span>context<span class="_ _2"> </span>so</div><div class="t m0 xf h8 y149a ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _2"> </span>CPU<span class="_ _2"> </span>con<span class="_ _1"></span>tin<span class="_ _1"></span>ues<span class="_ _6"> </span>exec<span class="_ _5"></span>uting<span class="_ _6"> </span>the<span class="_ _2"> </span>previous<span class="_ _2"> </span>program.</div><div class="t m0 xc h8 y149b ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _3"> </span>RISC-V<span class="_ _2"> </span>CPUs,<span class="_ _b"> </span>a<span class="_ _2"> </span>subset<span class="_ _3"> </span>of<span class="_ _3"> </span>these<span class="_ _3"> </span>tasks<span class="_ _3"> </span>is<span class="_ _3"> </span>p<span class="_ _5"></span>erformed<span class="_ _3"> </span>b<span class="_ _1"></span>y<span class="_ _3"> </span>the<span class="_ _2"> </span>CPU<span class="_ _3"> </span>itself<span class="_ _3"> </span>while<span class="_ _3"> </span>the<span class="_ _3"> </span>remainder<span class="_ _3"> </span>must</div><div class="t m0 xf h8 y149c ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>e<span class="_ _2"> </span>p<span class="_ _5"></span>erformed<span class="_ _3"> </span>by<span class="_ _2"> </span>the<span class="_ _3"> </span>interrupt<span class="_ _6"> </span>service<span class="_ _3"> </span>routine.<span class="_ _4"> </span>F<span class="_ _9"></span>or<span class="_ _2"> </span>example,<span class="_ _3"> </span>the<span class="_ _3"> </span>program<span class="_ _3"> </span>counter<span class="_ _2"> </span>is<span class="_ _3"> </span>sa<span class="_ _1"></span>v<span class="_ _1"></span>ed<span class="_ _2"> </span>by<span class="_ _2"> </span>the<span class="_ _3"> </span>CPU</div><div class="t m0 xf h8 y149d ff3 fs4 fc0 sc0 ls0 ws0">itself<span class="_ _2"> </span>while<span class="_ _2"> </span>other<span class="_ _3"> </span>general-purp<span class="_ _5"></span>ose<span class="_ _2"> </span>registers<span class="_ _3"> </span>m<span class="_ _1"></span>ust<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>sav<span class="_ _27"></span>ed<span class="_ _3"> </span>by<span class="_ _6"> </span>the<span class="_ _3"> </span>in<span class="_ _1"></span>terrupt<span class="_ _2"> </span>service<span class="_ _2"> </span>routine.<span class="_ _18"> </span>This<span class="_ _2"> </span>section</div><div class="t m0 xf h8 y149e ff3 fs4 fc0 sc0 ls0 ws0">discusses<span class="_ _34"> </span>the<span class="_ _7"> </span>actions<span class="_ _34"> </span>that<span class="_ _7"> </span>are<span class="_ _34"> </span>p<span class="_ _5"></span>erformed<span class="_ _7"> </span>automatically<span class="_ _34"> </span>by<span class="_ _34"> </span>the<span class="_ _34"> </span>CPU<span class="_ _7"> </span>while<span class="_ _34"> </span>Section<span class="_ _7"> </span>9.3.4<span class="_ _7"> </span>discusses<span class="_ _34"> </span>the</div><div class="t m0 xf h8 y149f ff3 fs4 fc0 sc0 ls0 ws0">actions<span class="_ _2"> </span>that<span class="_ _2"> </span>m<span class="_ _1"></span>ust<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _2"> </span>p<span class="_ _5"></span>erformed<span class="_ _2"> </span>by<span class="_ _6"> </span>the<span class="_ _2"> </span>interrupt<span class="_ _6"> </span>service<span class="_ _2"> </span>routine.</div><div class="t m0 xc h8 y14a0 ff3 fs4 fc0 sc0 ls0 ws0">Algorithm<span class="_ _3"> </span>7<span class="_ _3"> </span>illustrates<span class="_ _b"> </span>ho<span class="_ _1"></span>w<span class="_ _3"> </span>a<span class="_ _3"> </span>R<span class="_ _9"></span>V32I<span class="_ _3"> </span>CPU<span class="_ _3"> </span>handles<span class="_ _b"> </span>external<span class="_ _3"> </span>interrupts.<span class="_ _4"> </span>First,<span class="_ _b"> </span>it<span class="_ _3"> </span>veriﬁes<span class="_ _3"> </span>if<span class="_ _3"> </span>the<span class="_ _3"> </span>CPU</div><div class="t m0 xf h8 y14a1 ff3 fs4 fc0 sc0 ls0 ws0">m<span class="_ _1"></span>ust<span class="_ _3"> </span>accept<span class="_ _b"> </span>interrupts<span class="_ _3"> </span>by<span class="_ _3"> </span>chec<span class="_ _27"></span>king<span class="_ _b"> </span>the<span class="_ _b"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _3"> </span>of<span class="_ _b"> </span>the<span class="_ _b"> </span><span class="ff5">mstatus</span>.<span class="ff5">MIE<span class="_ _b"> </span></span>subﬁeld<span class="_ _3"> </span>(line<span class="_ _b"> </span>2).<span class="_ _1c"> </span>If<span class="_ _b"> </span>it<span class="_ _b"> </span>is<span class="_ _b"> </span>set<span class="_ _b"> </span>(‘1’),</div><div class="t m0 xf h8 y14a2 ff3 fs4 fc0 sc0 ls0 ws0">then<span class="_ _2"> </span>it<span class="_ _3"> </span>chec<span class="_ _27"></span>ks<span class="_ _3"> </span>for<span class="_ _3"> </span>interrupts<span class="_ _2"> </span>(lines<span class="_ _3"> </span>3-14),<span class="_ _3"> </span>otherwise,<span class="_ _3"> </span>it<span class="_ _3"> </span>ignores<span class="_ _2"> </span>interrupts<span class="_ _2"> </span>and<span class="_ _3"> </span>pro<span class="_ _5"></span>ceeds<span class="_ _3"> </span>with<span class="_ _3"> </span>the<span class="_ _3"> </span>normal</div><div class="t m0 xf h8 y14a3 ff3 fs4 fc0 sc0 ls0 ws0">instruction<span class="_ _6"> </span>execution<span class="_ _6"> </span>cycle<span class="_ _6"> </span>(line<span class="_ _6"> </span>16).<span class="_ _34"> </span>Assuming<span class="_ _6"> </span><span class="ff5">mstatus</span>.<span class="ff5">MIE<span class="_ _6"> </span></span>=<span class="_ _6"> </span>‘1’,<span class="_ _2"> </span>in<span class="_ _6"> </span>case<span class="_ _6"> </span>there<span class="_ _6"> </span>is<span class="_ _6"> </span>an<span class="_ _6"> </span>external<span class="_ _6"> </span>in<span class="_ _1"></span>terrupt</div><div class="t m0 xf h8 y14a4 ff3 fs4 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>ending<span class="_ _3"> </span>(<span class="ff5">mip</span>.<span class="ff5">MEIP<span class="_ _3"> </span></span>=<span class="_ _b"> </span>‘1’)<span class="_ _3"> </span>and<span class="_ _3"> </span>external<span class="_ _b"> </span>in<span class="_ _1"></span>terrupts<span class="_ _3"> </span>are<span class="_ _3"> </span>enabled<span class="_ _b"> </span>(<span class="ff5">mie</span>.<span class="ff5">MEIE<span class="_ _3"> </span></span>=<span class="_ _3"> </span>‘1’)<span class="_ _b"> </span>(line<span class="_ _3"> </span>3),<span class="_ _b"> </span>then<span class="_ _3"> </span>the<span class="_ _3"> </span>CPU</div><div class="t m0 x2b h1e y14a5 fff fsd fc0 sc0 ls0 ws0">8</div><div class="t m0 xc h1f y14a6 ff10 fse fc0 sc0 ls0 ws0">Softw<span class="_ _27"></span>are<span class="_ _6"> </span>interrupts<span class="_ _8b"> </span>are<span class="_ _6"> </span>a<span class="_ _6"> </span>sp<span class="_ _5"></span>ecial<span class="_ _38"> </span>kind<span class="_ _6"> </span>of<span class="_ _6"> </span>interrupt<span class="_ _38"> </span>generated<span class="_ _6"> </span>by<span class="_ _8b"> </span>the<span class="_ _6"> </span>CPU<span class="_ _6"> </span>itself.<span class="_ _34"> </span>These<span class="_ _6"> </span>interrupts<span class="_ _38"> </span>will<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _38"> </span>discussed<span class="_ _6"> </span>in</div><div class="t m0 xf h1f y14a7 ff10 fse fc0 sc0 ls0 ws0">Chapter<span class="_ _38"> </span>10.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y13b ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y13c ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Septem<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _6"> </span>17,<span class="_ _2"> </span>2025)</div><div class="t m0 x9c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">128</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:494.135000px;bottom:719.578000px;width:23.440000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:225.692000px;bottom:708.177000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:348.767000px;bottom:696.221000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:117.828000px;bottom:652.386000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:201.007000px;bottom:636.446000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:476.549000px;bottom:623.937000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:500.832000px;bottom:596.042000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8d" data-dest-detail='[141,"XYZ",87.243,123.024,null]'><div class="d m1" style="border-style:none;position:absolute;left:297.737000px;bottom:584.640000px;width:6.462000px;height:12.039000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:148.077000px;bottom:545.938000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:390.623000px;bottom:545.938000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:388.958000px;bottom:533.983000px;width:22.056000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:387.955000px;bottom:505.232000px;width:22.056000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:378.975000px;bottom:493.830000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:405.935000px;bottom:373.725000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,411.096,null]'><div class="d m1" style="border-style:none;position:absolute;left:113.068000px;bottom:362.323000px;width:15.968000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:362.467000px;bottom:362.323000px;width:22.056000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,494.782,null]'><div class="d m1" style="border-style:none;position:absolute;left:330.456000px;bottom:341.845000px;width:22.057000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",72,316.807,null]'><div class="d m1" style="border-style:none;position:absolute;left:208.508000px;bottom:330.443000px;width:22.471000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:95.910000px;bottom:318.488000px;width:111.803000px;height:10.583000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf87" data-dest-detail='[135,"XYZ",72,215.585,null]'><div class="d m1" style="border-style:none;position:absolute;left:172.514000px;bottom:272.210000px;width:14.723000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:88.162000px;bottom:248.300000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:136.689000px;bottom:236.345000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:360.460000px;bottom:236.345000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:164.128000px;bottom:224.389000px;width:108.331000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:500.832000px;bottom:224.389000px;width:23.440000px;height:10.849000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:355.787000px;bottom:212.434000px;width:108.115000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:352.309000px;bottom:200.479000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",72,316.807,null]'><div class="d m1" style="border-style:none;position:absolute;left:440.930000px;bottom:200.479000px;width:22.472000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfc" data-dest-detail='[12,"XYZ",72,698.103,null]'><div class="d m1" style="border-style:none;position:absolute;left:243.302000px;bottom:188.524000px;width:107.874000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8e" data-dest-detail='[142,"XYZ",86.944,336.526,null]'><div class="d m1" style="border-style:none;position:absolute;left:134.249000px;bottom:176.569000px;width:6.974000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:250.254000px;bottom:176.569000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:500.832000px;bottom:176.569000px;width:23.440000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:500.832000px;bottom:128.195000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:340.540000px;bottom:111.013000px;width:20.210000px;height:10.208000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf92" data-dest-detail='[146,"XYZ",72,733.028,null]'><div class="d m1" style="border-style:none;position:absolute;left:103.943000px;bottom:100.259000px;width:10.461000px;height:10.367000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
