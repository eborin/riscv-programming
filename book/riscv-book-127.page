<div id="pf7f" class="pf w0 h0" data-page-no="7f"><div class="pc pc7f w0 h0"><img class="bi xf y1230 w2 hd5" alt="" src="bg7f.png"/><div class="t m0 xf h8 y105 ff3 fs4 fc0 sc0 ls0 ws0">8.1.<span class="_ _1f"> </span>PERIPHERALS</div><div class="c x1a y1231 w3 h10"><div class="t m0 x1b h11 y109 ffb fs9 fc0 sc0 ls0 ws0">bus</div><div class="t m0 x1c h11 y10a ffb fs9 fc0 sc0 ls0 ws0">CPU</div><div class="t m0 x135 h11 y10b ffb fs9 fc0 sc0 ls0 ws0">Main </div><div class="t m0 x1d h11 y10c ffb fs9 fc0 sc0 ls0 ws0">Memory</div><div class="t m0 x1e h11 y10b ffb fs9 fc0 sc0 ls0 ws0">Output </div><div class="t m0 x1e h11 y10c ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x1f h11 y10d ffb fs9 fc0 sc0 ls0 ws0">Input </div><div class="t m0 x1e h11 y10e ffb fs9 fc0 sc0 ls0 ws0">device</div><div class="t m0 x20 h11 y10f ffb fs9 fc0 sc0 ls0 ws0">HDD</div></div><div class="t m0 x1f h8 y1232 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>8.1:<span class="_ _7"> </span>Computer<span class="_ _2"> </span>system<span class="_ _6"> </span>c<span class="_ _5"></span>omponents<span class="_ _6"> </span>connected<span class="_ _2"> </span>through<span class="_ _2"> </span>a<span class="_ _2"> </span>system<span class="_ _2"> </span>bus.</div><div class="c x21 y1233 w21 hd6"><div class="t m0 x1c hd7 y1234 ff9c fs44 fc0 sc0 ls0 ws0">CPU<span class="_ _c1"> </span>Main Memory</div><div class="t m2 x119 hd7 y1235 ff9c fs44 fc0 sc0 ls0 ws0">bus</div><div class="t m0 x4d hd8 y1236 ff9c fs45 fc0 sc0 ls0 ws0">Control Reg. </div><div class="t m0 x4d hd8 y1237 ff9c fs45 fc0 sc0 ls0 ws0">(0x40)</div><div class="t m0 x13 hd7 y1238 ff9c fs44 fc0 sc0 ls0 ws0">Display Controller</div><div class="t m0 x25 hd9 y1239 ff9d fs45 fc0 sc0 ls0 ws0">f</div><div class="t m0 x12 hd9 y123a ff9d fs45 fc0 sc0 ls0 ws0">b</div><div class="t m0 x9d hd9 y123b ff9d fs45 fc0 sc0 ls0 ws0">a</div><div class="t m0 xb hd9 y123c ff9d fs45 fc0 sc0 ls0 ws0">e</div><div class="t m0 x100 hd9 y123d ff9d fs45 fc0 sc0 ls0 ws0">c</div><div class="t m0 x51 hd9 y123e ff9d fs45 fc0 sc0 ls0 ws0">g</div><div class="t m0 x1 hd9 y123f ff9d fs45 fc0 sc0 ls0 ws0">d</div><div class="t m0 x12 hd9 y1240 ff9d fs45 fc0 sc0 ls0 ws0">p</div><div class="t m0 x55 hda y1241 ff9c fs46 fc0 sc0 ls0 ws0">segments</div><div class="t m0 x55 hda y1242 ff9c fs46 fc0 sc0 ls0 ws0">dot</div><div class="t m0 x5a hda y1243 ff9c fs46 fc0 sc0 ls0 ws0">electrical </div><div class="t m0 x36 hda y1244 ff9c fs46 fc0 sc0 ls0 ws0">wires</div></div><div class="t m0 x21 h8 y1245 ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>8.2:<span class="_ _7"> </span>Computing<span class="_ _2"> </span>system<span class="_ _6"> </span>with<span class="_ _3"> </span>a<span class="_ _6"> </span>seven-segmen<span class="_ _27"></span>t<span class="_ _2"> </span>display<span class="_ _6"> </span>and<span class="_ _2"> </span>a<span class="_ _2"> </span>display<span class="_ _6"> </span>controller.</div><div class="t m0 xc h8 y1246 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>display<span class="_ _2"> </span>controller<span class="_ _2"> </span>is<span class="_ _b"> </span>the<span class="_ _3"> </span>device<span class="_ _3"> </span>resp<span class="_ _5"></span>onsible<span class="_ _3"> </span>for<span class="_ _b"> </span>con<span class="_ _27"></span>trolling<span class="_ _b"> </span>the<span class="_ _3"> </span>seven-segmen<span class="_ _27"></span>t<span class="_ _3"> </span>display<span class="_ _12"></span>.<span class="_ _2a"> </span>It<span class="_ _3"> </span>is<span class="_ _3"> </span>con-</div><div class="t m0 xf h8 y1247 ff3 fs4 fc0 sc0 ls0 ws0">nected<span class="_ _3"> </span>to<span class="_ _3"> </span>the<span class="_ _3"> </span>seven-segmen<span class="_ _27"></span>t<span class="_ _3"> </span>display<span class="_ _2"> </span>LEDs<span class="_ _3"> </span>using<span class="_ _3"> </span>electrical<span class="_ _3"> </span>wires,<span class="_ _b"> </span>and<span class="_ _3"> </span>it<span class="_ _3"> </span>turns<span class="_ _3"> </span>on<span class="_ _3"> </span>or<span class="_ _3"> </span>oﬀ<span class="_ _3"> </span>each<span class="_ _2"> </span>one<span class="_ _3"> </span>of<span class="_ _3"> </span>the</div><div class="t m0 xf h8 y1248 ff3 fs4 fc0 sc0 ls0 ws0">segmen<span class="_ _1"></span>ts<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _3"> </span>dot<span class="_ _2"> </span>according<span class="_ _3"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>conten<span class="_ _27"></span>ts<span class="_ _3"> </span>of<span class="_ _2"> </span>an<span class="_ _3"> </span>eigh<span class="_ _1"></span>t-bit<span class="_ _2"> </span>register<span class="_ _2"> </span>called<span class="_ _3"> </span>control<span class="_ _6"> </span>register.<span class="_ _24"> </span>Each<span class="_ _2"> </span>bit</div><div class="t m0 xf h8 y1249 ff3 fs4 fc0 sc0 ls0 ws0">of the control register (Control Reg.)<span class="_ _b"> </span>controls whether each displa<span class="_ _27"></span>y<span class="_ _38"> </span>segment or dot must b<span class="_ _5"></span>e turned on<span class="_ _38"> </span>or</div><div class="t m0 xf h8 y124a ff3 fs4 fc0 sc0 ls0 ws0">oﬀ.<span class="_ _7"> </span>In<span class="_ _2"> </span>this<span class="_ _2"> </span>case,<span class="_ _3"> </span>bits<span class="_ _2"> </span>7,<span class="_ _2"> </span>6,<span class="_ _2"> </span>5,<span class="_ _2"> </span>4,<span class="_ _2"> </span>3,<span class="_ _3"> </span>2,<span class="_ _2"> </span>1,<span class="_ _2"> </span>and<span class="_ _2"> </span>0<span class="_ _2"> </span>(the<span class="_ _2"> </span>rightmost<span class="_ _6"> </span>one)<span class="_ _3"> </span>con<span class="_ _1"></span>trol<span class="_ _2"> </span>the<span class="_ _2"> </span>dot<span class="_ _2"> </span>(p),<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _3"> </span>segmen<span class="_ _27"></span>ts</div><div class="t m0 xf h8 y124b ff3 fs4 fc0 sc0 ls0 ws0">a,<span class="_ _34"> </span>b,<span class="_ _34"> </span>c,<span class="_ _7"> </span>d,<span class="_ _34"> </span>e,<span class="_ _34"> </span>f,<span class="_ _34"> </span>and<span class="_ _34"> </span>g,<span class="_ _34"> </span>resp<span class="_ _5"></span>ectively<span class="_ _12"></span>.<span class="_ _39"> </span>Figure<span class="_ _b"> </span>8.3<span class="_ _34"> </span>shows<span class="_ _b"> </span>the<span class="_ _b"> </span>v<span class="_ _27"></span>alue<span class="_ _34"> </span>that<span class="_ _b"> </span>must<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>written<span class="_ _34"> </span>into<span class="_ _b"> </span>the<span class="_ _b"> </span>control</div><div class="t m0 xf h8 y124c ff3 fs4 fc0 sc0 ls0 ws0">register<span class="_ _2"> </span>(<span class="ff5">0x5b</span>)<span class="_ _6"> </span>to<span class="_ _3"> </span>turn<span class="_ _6"> </span>on<span class="_ _2"> </span>the<span class="_ _2"> </span>segments<span class="_ _6"> </span>that<span class="_ _2"> </span>show<span class="_ _6"> </span>a<span class="_ _2"> </span>pattern<span class="_ _2"> </span>that<span class="_ _2"> </span>resembles<span class="_ _6"> </span>the<span class="_ _2"> </span>decimal<span class="_ _2"> </span>digit<span class="_ _2"> </span>‘5’.</div><div class="c x1e y124d w22 hdb"><div class="t m0 x27 hdc y124e ff9e fs47 fc0 sc0 ls0 ws0">0</div><div class="t m0 xfa hdd y124f ff9f fs48 fc0 sc0 ls0 ws0">Control Reg. </div><div class="t m0 xfa hdd y1250 ff9f fs48 fc0 sc0 ls0 ws0">(0x40)</div><div class="t m0 xd7 hde y1251 ff9f fs49 fc0 sc0 ls0 ws0">Display Controller</div><div class="t m0 xc6 hdf y1252 ffa0 fs48 fc0 sc0 ls0 ws0">f</div><div class="t m0 xd8 hdf y1253 ffa0 fs48 fc0 sc0 ls0 ws0">b</div><div class="t m0 x39 hdf y1254 ffa0 fs48 fc0 sc0 ls0 ws0">a</div><div class="t m0 x95 hdf y1255 ffa0 fs48 fc0 sc0 ls0 ws0">e</div><div class="t m0 x7f hdf y1256 ffa0 fs48 fc0 sc0 ls0 ws0">c</div><div class="t m0 x35 hdf y1257 ffa0 fs48 fc0 sc0 ls0 ws0">g</div><div class="t m0 x11e hdf y1258 ffa0 fs48 fc0 sc0 ls0 ws0">d</div><div class="t m0 xd8 hdf y1259 ffa0 fs48 fc0 sc0 ls0 ws0">p</div><div class="t m0 x10 he0 y125a ff9f fs47 fc0 sc0 ls0 ws0">segments</div><div class="t m0 x10 he0 y125b ff9f fs47 fc0 sc0 ls0 ws0">dot</div><div class="t m0 x124 hdc y124e ff9e fs47 fc0 sc0 ls0 ws0">1<span class="_ _6"> </span>0<span class="_ _6"> </span>1<span class="_ _6"> </span>1<span class="_ _2"> </span>0<span class="_ _2"> </span>1<span class="_ _6"> </span>1</div><div class="t m0 x27 he0 y125c ff9f fs47 fc0 sc0 ls0 ws0">p<span class="_ _7"> </span>a<span class="_ _24"> </span>b<span class="_ _34"> </span>c<span class="_ _24"> </span>d<span class="_ _24"> </span>e<span class="_ _2a"> </span>f<span class="_ _18"> </span>g</div><div class="t m0 x1a hdd y125d ff9f fs48 fc0 sc0 ls0 ws0">electrical </div><div class="t m0 x19 hdd y125e ff9f fs48 fc0 sc0 ls0 ws0">wires</div></div><div class="t m0 x29 h8 y125f ff3 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _2"> </span>8.3:<span class="_ _7"> </span>A<span class="_ _2"> </span>detailed<span class="_ _6"> </span>view<span class="_ _3"> </span>of<span class="_ _6"> </span>the<span class="_ _2"> </span>display<span class="_ _6"> </span>controller<span class="_ _6"> </span>control<span class="_ _6"> </span>register.</div><div class="t m0 xc h8 y1260 ff3 fs4 fc0 sc0 ls0 ws0">In<span class="_ _b"> </span>the<span class="_ _b"> </span>previous<span class="_ _b"> </span>example,<span class="_ _34"> </span>the<span class="_ _34"> </span>seven-segmen<span class="_ _27"></span>t<span class="_ _b"> </span>display<span class="_ _b"> </span>is<span class="_ _b"> </span>con<span class="_ _1"></span>trolled<span class="_ _b"> </span>by<span class="_ _3"> </span>a<span class="_ _34"> </span>display<span class="_ _3"> </span>controller,<span class="_ _b"> </span>which,<span class="_ _b"> </span>in</div><div class="t m0 xf h8 y1261 ff3 fs4 fc0 sc0 ls0 ws0">turn, turns on<span class="_ _a"> </span>and oﬀ<span class="_ _a"> </span>the displa<span class="_ _27"></span>y segmen<span class="_ _1"></span>ts and<span class="_ _a"> </span>the dot<span class="_ _a"> </span>accordingly to<span class="_ _a"> </span>the con<span class="_ _1"></span>ten<span class="_ _1"></span>ts of<span class="_ _a"> </span>the con<span class="_ _27"></span>trol register.</div><div class="t m0 xf h8 y1262 ff3 fs4 fc0 sc0 ls0 ws0">In this<span class="_ _38"> </span>context, to<span class="_ _6"> </span>p<span class="_ _5"></span>erform an output<span class="_ _6"> </span>op<span class="_ _5"></span>eration using<span class="_ _6"> </span>the display controller, the CPU must write a<span class="_ _6"> </span>v<span class="_ _27"></span>alue</div><div class="t m0 xf h8 y1263 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>to<span class="_ _6"> </span>the<span class="_ _6"> </span>display controller control<span class="_ _38"> </span>register.<span class="_ _7"> </span>In<span class="_ _6"> </span>general,<span class="_ _2"> </span>to<span class="_ _6"> </span>p<span class="_ _5"></span>erform<span class="_ _6"> </span>an<span class="_ _6"> </span>output<span class="_ _6"> </span>or<span class="_ _6"> </span>input<span class="_ _6"> </span>op<span class="_ _5"></span>eration<span class="_ _6"> </span>using<span class="_ _2"> </span>an</div><div class="t m0 xf h8 y1264 ff3 fs4 fc0 sc0 ls0 ws0">I/O<span class="_ _3"> </span>device,<span class="_ _b"> </span>the<span class="_ _3"> </span>CPU<span class="_ _3"> </span>writes<span class="_ _b"> </span>to<span class="_ _3"> </span>or<span class="_ _3"> </span>reads<span class="_ _b"> </span>from<span class="_ _3"> </span>a<span class="_ _3"> </span>register,<span class="_ _b"> </span>or<span class="_ _3"> </span>internal<span class="_ _3"> </span>memory<span class="_ _9"></span>,<span class="_ _3"> </span>that<span class="_ _b"> </span>b<span class="_ _5"></span>elongs<span class="_ _3"> </span>to<span class="_ _3"> </span>the<span class="_ _b"> </span>input</div><div class="t m0 xf h8 y1265 ff3 fs4 fc0 sc0 ls0 ws0">device<span class="_ _2"> </span>con<span class="_ _1"></span>troller.</div><div class="t m0 xc h8 y1266 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _24"> </span>next<span class="_ _18"> </span>section<span class="_ _18"> </span>discusses<span class="_ _24"> </span>how<span class="_ _24"> </span>the<span class="_ _18"> </span>CPU<span class="_ _18"> </span>may<span class="_ _7"> </span>write/read<span class="_ _18"> </span>to/from<span class="_ _18"> </span>p<span class="_ _5"></span>eripheral<span class="_ _18"> </span>registers<span class="_ _24"> </span>and<span class="_ _18"> </span>their</div><div class="t m0 xf h8 y1267 ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>ternal<span class="_ _2"> </span>memories.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y13b ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y13c ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>Septem<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _6"> </span>17,<span class="_ _2"> </span>2025)</div><div class="t m0 x9c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">114</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:332.222000px;bottom:434.323000px;width:14.170000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:510.103000px;bottom:434.323000px;width:14.169000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,552.649,null]'><div class="d m1" style="border-style:none;position:absolute;left:144.999000px;bottom:409.859000px;width:18.099000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf7f" data-dest-detail='[127,"XYZ",72,380.968,null]'><div class="d m1" style="border-style:none;position:absolute;left:264.983000px;bottom:398.458000px;width:14.722000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:418.302000px;bottom:216.935000px;width:23.439000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:142.012000px;bottom:192.471000px;width:23.440000px;height:11.955000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,514.708,null]'><div class="d m1" style="border-style:none;position:absolute;left:251.330000px;bottom:168.560000px;width:23.440000px;height:11.956000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
