<div id="pf67" class="pf w0 h0" data-page-no="67"><div class="pc pc67 w0 h0"><img class="bi xf yf74 w2 hbe" alt="" src="bg67.png"/><div class="t m0 xf h8 y10d ff3 fs4 fc0 sc0 ls0 ws0">6.4.<span class="_ _1f"> </span>EXAMPLES</div><div class="t m0 xf he y57 ff6 fs3 fc0 sc0 ls0 ws0">6.4<span class="_ _37"> </span>Examples</div><div class="t m0 xf hb yf75 ff6 fs6 fc0 sc0 ls0 ws0">6.4.1<span class="_ _11"> </span>Searc<span class="_ _27"></span>hing<span class="_ _7"> </span>for<span class="_ _24"> </span>the<span class="_ _7"> </span>maxim<span class="_ _27"></span>um<span class="_ _24"> </span>v<span class="_ _9"></span>alue<span class="_ _7"> </span>on<span class="_ _7"> </span>an<span class="_ _24"> </span>arra<span class="_ _27"></span>y</div><div class="t m0 xf h8 yf76 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>following<span class="_ _3"> </span>“C”<span class="_ _3"> </span>co<span class="_ _5"></span>de<span class="_ _b"> </span>sho<span class="_ _1"></span>ws<span class="_ _3"> </span>a<span class="_ _b"> </span>global<span class="_ _3"> </span>array<span class="_ _3"> </span>v<span class="_ _27"></span>ariable<span class="_ _3"> </span>named<span class="_ _b"> </span><span class="ff5">numbers<span class="_ _3"> </span></span>and<span class="_ _b"> </span>a<span class="_ _3"> </span>function<span class="_ _b"> </span>that<span class="_ _3"> </span>returns<span class="_ _b"> </span>the</div><div class="t m0 xf h8 yf77 ff3 fs4 fc0 sc0 ls0 ws0">largest<span class="_ _2"> </span>v<span class="_ _27"></span>alue<span class="_ _2"> </span>from<span class="_ _6"> </span>the<span class="_ _2"> </span>array<span class="_ _9"></span>.</div><div class="t m0 x114 h9 yf78 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">/*<span class="_ _4"> </span>Global<span class="_ _18"> </span>array<span class="_ _4"> </span>*/</span></div><div class="t m0 x114 h9 yf79 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">int<span class="_ _4"> </span>numbers[10];</span></div><div class="t m0 x114 h39 yf7a ff22 fs11 fc0 sc0 ls0 ws0">3</div><div class="t m0 x114 h9 yf7b ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _2a"> </span><span class="ff5 fs4">/*<span class="_ _4"> </span>Returns<span class="_ _18"> </span>the<span class="_ _4"> </span>largest<span class="_ _4"> </span>value<span class="_ _4"> </span>from<span class="_ _18"> </span>array<span class="_ _4"> </span>numbers.<span class="_ _4"> </span>*/</span></div><div class="t m0 x114 h9 yf7c ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">int<span class="_ _4"> </span>get_largest_number()</span></div><div class="t m0 x114 h9 yf7d ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">{</span></div><div class="t m0 x114 h9 yf7e ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _80"> </span><span class="ff5 fs4">int<span class="_ _18"> </span>largest<span class="_ _4"> </span>=<span class="_ _4"> </span>numbers[0];</span></div><div class="t m0 x114 h9 yf7f ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _80"> </span><span class="ff5 fs4">for<span class="_ _18"> </span>(int<span class="_ _4"> </span>i=1;<span class="_ _4"> </span>i&lt;10;<span class="_ _4"> </span>i++)<span class="_ _4"> </span>{</span></div><div class="t m0 x114 h9 yf80 ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _87"> </span><span class="ff5 fs4">if<span class="_ _18"> </span>(numbers[i]<span class="_ _4"> </span>&gt;<span class="_ _4"> </span>largest)</span></div><div class="t m0 x127 h9 yf81 ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _9d"> </span><span class="ff5 fs4">largest<span class="_ _18"> </span>=<span class="_ _4"> </span>numbers[i];</span></div><div class="t m0 x127 h9 yf82 ff22 fs11 fc0 sc0 ls0 ws0">11<span class="_ _80"> </span><span class="ff5 fs4">}</span></div><div class="t m0 x127 h9 yf83 ff22 fs11 fc0 sc0 ls0 ws0">12<span class="_ _80"> </span><span class="ff5 fs4">return<span class="_ _18"> </span>largest;</span></div><div class="t m0 x127 h9 yf84 ff22 fs11 fc0 sc0 ls0 ws0">13<span class="_ _2a"> </span><span class="ff5 fs4">}</span></div><div class="t m0 xc h8 yf85 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _2"> </span>follo<span class="_ _1"></span>wing<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>shows<span class="_ _6"> </span>an<span class="_ _2"> </span>assembly<span class="_ _6"> </span>program<span class="_ _2"> </span>that<span class="_ _2"> </span>implements<span class="_ _6"> </span>the<span class="_ _2"> </span>same<span class="_ _2"> </span>logic.</div><div class="t m0 x114 h9 yf86 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">.data</span></div><div class="t m0 x114 h9 yf87 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _2a"> </span><span class="ff5 fs4">#<span class="_ _4"> </span>Allocate<span class="_ _18"> </span>the<span class="_ _4"> </span>numbers<span class="_ _4"> </span>array<span class="_ _4"> </span>(10<span class="_ _18"> </span>integers<span class="_ _4"> </span>=<span class="_ _4"> </span>40<span class="_ _4"> </span>bytes)</span></div><div class="t m0 x114 h9 yf88 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _2a"> </span><span class="ff5 fs4">numbers:<span class="_ _4"> </span>.skip<span class="_ _18"> </span>40</span></div><div class="t m0 x114 h39 yf89 ff22 fs11 fc0 sc0 ls0 ws0">4</div><div class="t m0 x114 h9 yf8a ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _2a"> </span><span class="ff5 fs4">.text</span></div><div class="t m0 x114 h9 yf8b ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _2a"> </span><span class="ff5 fs4">get_largest_number:</span></div><div class="t m0 x114 h9 yf8c ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _80"> </span><span class="ff5 fs4">la<span class="_ _18"> </span>a5,<span class="_ _4"> </span>numbers<span class="_ _89"> </span>#<span class="_ _4"> </span>a5<span class="_ _4"> </span>:=<span class="_ _4"> </span>&amp;numbers</span></div><div class="t m0 x114 h9 yf8d ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _80"> </span><span class="ff5 fs4">lw<span class="_ _18"> </span>a0,<span class="_ _4"> </span>(a5)<span class="_ _94"> </span>#<span class="_ _4"> </span>a0<span class="_ _18"> </span>(largest)<span class="_ _4"> </span>:=<span class="_ _4"> </span>numbers[0]</span></div><div class="t m0 x114 h9 yf8e ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _80"> </span><span class="ff5 fs4">li<span class="_ _18"> </span>a1,<span class="_ _4"> </span>1<span class="_ _be"> </span>#<span class="_ _4"> </span>a1<span class="_ _18"> </span>(i)<span class="_ _4"> </span>:=<span class="_ _4"> </span>1</span></div><div class="t m0 x127 h9 yf8f ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _80"> </span><span class="ff5 fs4">li<span class="_ _18"> </span>t4,<span class="_ _4"> </span>10</span></div><div class="t m0 x127 h9 yf90 ff22 fs11 fc0 sc0 ls0 ws0">11<span class="_ _80"> </span><span class="ff5 fs4">for:</span></div><div class="t m0 x127 h9 yf91 ff22 fs11 fc0 sc0 ls0 ws0">12<span class="_ _87"> </span><span class="ff5 fs4">bge<span class="_ _7a"> </span>a1,<span class="_ _18"> </span>t4,<span class="_ _4"> </span>end<span class="_ _16"> </span>#<span class="_ _4"> </span>if<span class="_ _4"> </span>i<span class="_ _4"> </span>&gt;=<span class="_ _4"> </span>10,<span class="_ _18"> </span>then<span class="_ _4"> </span>exit<span class="_ _4"> </span>the<span class="_ _4"> </span>loop<span class="_ _18"> </span>(end<span class="_ _4"> </span>label)</span></div><div class="t m0 x127 h9 yf92 ff22 fs11 fc0 sc0 ls0 ws0">13<span class="_ _87"> </span><span class="ff5 fs4">slli<span class="_ _18"> </span>t1,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>2<span class="_ _9a"> </span>#<span class="_ _4"> </span>t1<span class="_ _4"> </span>:=<span class="_ _18"> </span>i<span class="_ _4"> </span>*<span class="_ _4"> </span>4</span></div><div class="t m0 x127 h9 yf93 ff22 fs11 fc0 sc0 ls0 ws0">14<span class="_ _87"> </span><span class="ff5 fs4">add<span class="_ _7a"> </span>t2,<span class="_ _18"> </span>a5,<span class="_ _4"> </span>t1<span class="_ _3f"> </span>#<span class="_ _18"> </span>t2<span class="_ _4"> </span>:=<span class="_ _4"> </span>&amp;numbers<span class="_ _4"> </span>+<span class="_ _18"> </span>i*4</span></div><div class="t m0 x127 h9 yf94 ff22 fs11 fc0 sc0 ls0 ws0">15<span class="_ _87"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>t3,<span class="_ _4"> </span>(t2)<span class="_ _8c"> </span>#<span class="_ _18"> </span>t3<span class="_ _4"> </span>:=<span class="_ _4"> </span>numbers[i]</span></div><div class="t m0 x127 h9 yf95 ff22 fs11 fc0 sc0 ls0 ws0">16<span class="_ _87"> </span><span class="ff5 fs4">blt<span class="_ _7a"> </span>t3,<span class="_ _18"> </span>a0,<span class="_ _4"> </span>skip<span class="_ _18"> </span>#<span class="_ _4"> </span>if<span class="_ _4"> </span>numbers[i]<span class="_ _4"> </span>&lt;<span class="_ _18"> </span>largest,<span class="_ _4"> </span>then<span class="_ _4"> </span>skip</span></div><div class="t m0 x127 h9 yf96 ff22 fs11 fc0 sc0 ls0 ws0">17<span class="_ _87"> </span><span class="ff5 fs4">mv<span class="_ _3f"> </span>a0,<span class="_ _4"> </span>t3<span class="_ _65"> </span>#<span class="_ _4"> </span>update<span class="_ _4"> </span>largest</span></div><div class="t m0 x127 h9 yf97 ff22 fs11 fc0 sc0 ls0 ws0">18<span class="_ _87"> </span><span class="ff5 fs4">skip:</span></div><div class="t m0 x127 h9 yf98 ff22 fs11 fc0 sc0 ls0 ws0">19<span class="_ _87"> </span><span class="ff5 fs4">addi<span class="_ _18"> </span>a1,<span class="_ _4"> </span>a1,<span class="_ _4"> </span>1<span class="_ _9a"> </span>#<span class="_ _4"> </span>i<span class="_ _4"> </span>:=<span class="_ _18"> </span>i<span class="_ _4"> </span>+<span class="_ _4"> </span>1</span></div><div class="t m0 x127 h9 yf99 ff22 fs11 fc0 sc0 ls0 ws0">20<span class="_ _87"> </span><span class="ff5 fs4">j<span class="_ _9a"> </span>for</span></div><div class="t m0 x127 h9 yf9a ff22 fs11 fc0 sc0 ls0 ws0">21<span class="_ _80"> </span><span class="ff5 fs4">end:</span></div><div class="t m0 x127 h9 yf9b ff22 fs11 fc0 sc0 ls0 ws0">22<span class="_ _80"> </span><span class="ff5 fs4">ret<span class="_ _53"> </span>#<span class="_ _4"> </span>return</span></div><div class="t m0 xc h8 yf9c ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _24"> </span>next<span class="_ _18"> </span>listing<span class="_ _24"> </span>shows<span class="_ _24"> </span>an<span class="_ _18"> </span>optimized<span class="_ _24"> </span>version<span class="_ _24"> </span>of<span class="_ _18"> </span>the<span class="_ _24"> </span>co<span class="_ _5"></span>de,<span class="_ _4"> </span>inspired<span class="_ _18"> </span>on<span class="_ _24"> </span>the<span class="_ _18"> </span>co<span class="_ _5"></span>de<span class="_ _18"> </span>generated<span class="_ _24"> </span>by<span class="_ _24"> </span>an</div><div class="t m0 xf h8 yf9d ff3 fs4 fc0 sc0 ls0 ws0">optimizing<span class="_ _2"> </span>compiler.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y144 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>F<span class="_ _9"></span>ebruary<span class="_ _2"> </span>10,<span class="_ _6"> </span>2025)</div><div class="t m0 xb8 h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">90</div><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
