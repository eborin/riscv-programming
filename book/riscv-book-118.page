<div id="pf76" class="pf w0 h0" data-page-no="76"><div class="pc pc76 w0 h0"><img class="bi xf y116c w2 hcc" alt="" src="bg76.png"/><div class="t m0 xf h8 y10d ff3 fs4 fc0 sc0 ls0 ws0">7.7.<span class="_ _1f"> </span>REGISTER<span class="_ _2"> </span>USAGE<span class="_ _6"> </span>POLICIES</div><div class="t m0 x114 h9 y894 ff22 fs11 fc0 sc0 ls0 ws0">1<span class="_ _2a"> </span><span class="ff5 fs4">exchange:</span></div><div class="t m0 x114 h9 y895 ff22 fs11 fc0 sc0 ls0 ws0">2<span class="_ _37"> </span><span class="ff5 fs4">addi<span class="_ _18"> </span>sp,<span class="_ _4"> </span>sp,<span class="_ _4"> </span>-8<span class="_ _7a"> </span>#<span class="_ _18"> </span>allocate<span class="_ _4"> </span>stack<span class="_ _4"> </span>space</span></div><div class="t m0 x114 h9 y896 ff22 fs11 fc0 sc0 ls0 ws0">3<span class="_ _37"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _4"> </span>4(sp)<span class="_ _3f"> </span>#<span class="_ _18"> </span>save<span class="_ _4"> </span>contents<span class="_ _4"> </span>of<span class="_ _4"> </span>a2</span></div><div class="t m0 x114 h9 y897 ff22 fs11 fc0 sc0 ls0 ws0">4<span class="_ _37"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a3,<span class="_ _4"> </span>0(sp)<span class="_ _3f"> </span>#<span class="_ _18"> </span>save<span class="_ _4"> </span>contents<span class="_ _4"> </span>of<span class="_ _4"> </span>a3</span></div><div class="t m0 x114 h9 y898 ff22 fs11 fc0 sc0 ls0 ws0">5<span class="_ _37"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _4"> </span>(a1)<span class="_ _9a"> </span>#<span class="_ _18"> </span>tmp<span class="_ _4"> </span>:=<span class="_ _4"> </span>*b</span></div><div class="t m0 x114 h9 y899 ff22 fs11 fc0 sc0 ls0 ws0">6<span class="_ _37"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a3,<span class="_ _4"> </span>(a0)<span class="_ _9a"> </span>#<span class="_ _18"> </span>a3<span class="_ _7a"> </span>:=<span class="_ _18"> </span>*a</span></div><div class="t m0 x114 h9 y89a ff22 fs11 fc0 sc0 ls0 ws0">7<span class="_ _37"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a3,<span class="_ _4"> </span>(a1)<span class="_ _9a"> </span>#<span class="_ _18"> </span>*b<span class="_ _7a"> </span>:=<span class="_ _18"> </span>a3</span></div><div class="t m0 x114 h9 y89b ff22 fs11 fc0 sc0 ls0 ws0">8<span class="_ _37"> </span><span class="ff5 fs4">sw<span class="_ _3f"> </span>a2,<span class="_ _4"> </span>(a0)<span class="_ _9a"> </span>#<span class="_ _18"> </span>*a<span class="_ _7a"> </span>:=<span class="_ _18"> </span>tmp</span></div><div class="t m0 x114 h9 y89c ff22 fs11 fc0 sc0 ls0 ws0">9<span class="_ _37"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a3,<span class="_ _4"> </span>0(sp)<span class="_ _3f"> </span>#<span class="_ _18"> </span>restore<span class="_ _4"> </span>contents<span class="_ _4"> </span>of<span class="_ _4"> </span>a3</span></div><div class="t m0 x126 h9 y89d ff22 fs11 fc0 sc0 ls0 ws0">10<span class="_ _37"> </span><span class="ff5 fs4">lw<span class="_ _3f"> </span>a2,<span class="_ _4"> </span>4(sp)<span class="_ _3f"> </span>#<span class="_ _18"> </span>restore<span class="_ _4"> </span>contents<span class="_ _4"> </span>of<span class="_ _4"> </span>a2</span></div><div class="t m0 x126 h9 y89e ff22 fs11 fc0 sc0 ls0 ws0">11<span class="_ _37"> </span><span class="ff5 fs4">addi<span class="_ _18"> </span>sp,<span class="_ _4"> </span>sp,<span class="_ _4"> </span>8<span class="_ _3f"> </span>#<span class="_ _4"> </span>deallocate<span class="_ _4"> </span>stack<span class="_ _18"> </span>space</span></div><div class="t m0 x126 h9 y89f ff22 fs11 fc0 sc0 ls0 ws0">12<span class="_ _37"> </span><span class="ff5 fs4">ret</span></div><div class="t m0 xf hb y116d ff6 fs6 fc0 sc0 ls0 ws0">7.7.1<span class="_ _11"> </span>Caller-sa<span class="_ _27"></span>ved<span class="_ _34"> </span>vs<span class="_ _7"> </span>callee-sav<span class="_ _27"></span>ed<span class="_ _7"> </span>registers</div><div class="t m0 xf h8 y116e ff7 fs4 fc0 sc0 ls0 ws0">A<span class="_ _b"> </span>call<span class="_ _34"> </span>site<span class="_ _34"> </span>is<span class="_ _b"> </span>a<span class="_ _34"> </span>place<span class="_ _34"> </span>from<span class="_ _34"> </span>whic<span class="_ _1"></span>h<span class="_ _b"> </span>a<span class="_ _34"> </span>routine<span class="_ _34"> </span>is<span class="_ _34"> </span>b<span class="_ _5"></span>eing<span class="_ _b"> </span>inv<span class="_ _27"></span>oked<span class="ff3">.<span class="_ _18"> </span>In<span class="_ _3"> </span>the<span class="_ _2"> </span>previous<span class="_ _3"> </span>example,<span class="_ _3"> </span>the<span class="_ _3"> </span><span class="ff5">jal</span></span></div><div class="t m0 xf h8 y116f ff5 fs4 fc0 sc0 ls0 ws0">exchange<span class="_ _3"> </span><span class="ff3">instruction<span class="_ _b"> </span>deﬁnes<span class="_ _b"> </span>a<span class="_ _b"> </span>call<span class="_ _3"> </span>site.<span class="_ _17"> </span>F<span class="_ _9"></span>or<span class="_ _3"> </span>each<span class="_ _3"> </span>call<span class="_ _b"> </span>site,<span class="_ _b"> </span>there<span class="_ _b"> </span>is<span class="_ _b"> </span>a<span class="_ _3"> </span>caller<span class="_ _b"> </span>and<span class="_ _b"> </span>a<span class="_ _b"> </span>callee<span class="_ _3"> </span>routine.<span class="_ _1c"> </span><span class="ff7">The</span></span></div><div class="t m0 xf h8 y1170 ff7 fs4 fc0 sc0 ls0 ws0">caller<span class="_ _34"> </span>routine<span class="_ _34"> </span>is<span class="_ _34"> </span>the<span class="_ _7"> </span>routine<span class="_ _34"> </span>that<span class="_ _34"> </span>is<span class="_ _34"> </span>inv<span class="_ _27"></span>oking<span class="_ _34"> </span>the<span class="_ _7"> </span>other<span class="_ _34"> </span>routine<span class="ff3">,<span class="_ _b"> </span><span class="ff8">i.e.</span>,<span class="_ _3"> </span>the<span class="_ _3"> </span>routine<span class="_ _b"> </span>that<span class="_ _3"> </span>contains</span></div><div class="t m0 xf h8 y1171 ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>call<span class="_ _b"> </span>site.<span class="_ _2a"> </span><span class="ff7">The<span class="_ _7"> </span>callee<span class="_ _7"> </span>routine<span class="_ _7"> </span>is<span class="_ _34"> </span>the<span class="_ _7"> </span>routine<span class="_ _7"> </span>that<span class="_ _34"> </span>is<span class="_ _7"> </span>b<span class="_ _5"></span>eing<span class="_ _7"> </span>inv<span class="_ _27"></span>ok<span class="_ _1"></span>ed<span class="_ _34"> </span>by<span class="_ _34"> </span>the<span class="_ _34"> </span>call<span class="_ _7"> </span>site<span class="ff3">.<span class="_ _1c"> </span>In<span class="_ _3"> </span>the</span></span></div><div class="t m0 xf h8 y1172 ff3 fs4 fc0 sc0 ls0 ws0">previous<span class="_ _2"> </span>example,<span class="_ _2"> </span>the<span class="_ _6"> </span>callee<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine<span class="_ _2"> </span>and<span class="_ _2"> </span>the<span class="_ _2"> </span>caller<span class="_ _2"> </span>is<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine.</div><div class="t m0 xc h8 y1173 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>previous<span class="_ _b"> </span>examples<span class="_ _3"> </span>discussed<span class="_ _b"> </span>t<span class="_ _27"></span>wo<span class="_ _3"> </span>alternative<span class="_ _3"> </span>solutions<span class="_ _3"> </span>to<span class="_ _b"> </span>preserving<span class="_ _3"> </span>the<span class="_ _3"> </span>conten<span class="_ _1"></span>ts<span class="_ _3"> </span>of<span class="_ _b"> </span>register<span class="_ _3"> </span><span class="ff5">a2</span></div><div class="t m0 xf h8 y1174 ff3 fs4 fc0 sc0 ls0 ws0">across<span class="_ _38"> </span>a<span class="_ _6"> </span>call<span class="_ _6"> </span>site:<span class="_ _7"> </span>the<span class="_ _6"> </span>conten<span class="_ _27"></span>ts<span class="_ _6"> </span>are<span class="_ _6"> </span>sav<span class="_ _27"></span>ed<span class="_ _6"> </span>and<span class="_ _6"> </span>restored<span class="_ _6"> </span>by the<span class="_ _6"> </span>caller<span class="_ _6"> </span>routine<span class="_ _6"> </span>or<span class="_ _6"> </span>the<span class="_ _6"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _38"> </span>are<span class="_ _6"> </span>sav<span class="_ _27"></span>ed<span class="_ _6"> </span>and</div><div class="t m0 xf h8 y1175 ff3 fs4 fc0 sc0 ls0 ws0">restored<span class="_ _3"> </span>b<span class="_ _1"></span>y<span class="_ _3"> </span>the<span class="_ _3"> </span>callee<span class="_ _3"> </span>routine.<span class="_ _4"> </span>Ev<span class="_ _1"></span>en<span class="_ _3"> </span>though<span class="_ _3"> </span>both<span class="_ _3"> </span>approaches<span class="_ _3"> </span>are<span class="_ _3"> </span>correct,<span class="_ _3"> </span>there<span class="_ _3"> </span>should<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>a<span class="_ _3"> </span>conv<span class="_ _27"></span>ention</div><div class="t m0 xf h8 y1176 ff3 fs4 fc0 sc0 ls0 ws0">so<span class="_ _2"> </span>that<span class="_ _2"> </span>programmers<span class="_ _2"> </span>(and<span class="_ _2"> </span>compilers)<span class="_ _2"> </span>do<span class="_ _2"> </span>not<span class="_ _2"> </span>need<span class="_ _2"> </span>to<span class="_ _2"> </span>insp<span class="_ _5"></span>ect<span class="_ _2"> </span>the<span class="_ _2"> </span>co<span class="_ _5"></span>de<span class="_ _6"> </span>of<span class="_ _3"> </span>the<span class="_ _6"> </span>callee<span class="_ _2"> </span>routine<span class="_ _2"> </span>to<span class="_ _2"> </span>ﬁgure<span class="_ _2"> </span>out</div><div class="t m0 xf h8 y1177 ff3 fs4 fc0 sc0 ls0 ws0">whether<span class="_ _2"> </span>or<span class="_ _2"> </span>not<span class="_ _6"> </span>to<span class="_ _2"> </span>sav<span class="_ _27"></span>e<span class="_ _2"> </span>the<span class="_ _2"> </span>conten<span class="_ _27"></span>ts<span class="_ _2"> </span>of<span class="_ _2"> </span>a<span class="_ _2"> </span>register<span class="_ _2"> </span>b<span class="_ _5"></span>efore<span class="_ _2"> </span>inv<span class="_ _27"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span>callee.</div><div class="t m0 xc h8 y1178 ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>ABI<span class="_ _3"> </span>deﬁnes<span class="_ _b"> </span>whic<span class="_ _27"></span>h<span class="_ _b"> </span>registers<span class="_ _3"> </span>must<span class="_ _2"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>sa<span class="_ _27"></span>ved<span class="_ _3"> </span>by<span class="_ _2"> </span>the<span class="_ _3"> </span>caller,<span class="_ _b"> </span><span class="ff8">i.e.</span>,<span class="_ _b"> </span>the<span class="_ _3"> </span>routine<span class="_ _3"> </span>that<span class="_ _3"> </span>is<span class="_ _b"> </span>in<span class="_ _1"></span>v<span class="_ _1"></span>oking,<span class="_ _3"> </span>and</div><div class="t m0 xf h8 y1179 ff3 fs4 fc0 sc0 ls0 ws0">whic<span class="_ _1"></span>h registers m<span class="_ _1"></span>ust b<span class="_ _5"></span>e sav<span class="_ _27"></span>ed by the callee routine, <span class="ff8">i.e.</span>, the routine that is b<span class="_ _5"></span>eing inv<span class="_ _27"></span>oked.<span class="_ _b"> </span><span class="ff7">Caller-sav<span class="_ _27"></span>ed</span></div><div class="t m0 xf h8 y117a ff7 fs4 fc0 sc0 ls0 ws0">registers<span class="_ _7"> </span>are<span class="_ _24"> </span>registers<span class="_ _7"> </span>that<span class="_ _24"> </span>m<span class="_ _1"></span>ust<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _24"> </span>sav<span class="_ _27"></span>ed<span class="_ _7"> </span>by<span class="_ _7"> </span>the<span class="_ _7"> </span>caller<span class="_ _24"> </span>routine<span class="_ _b"> </span><span class="ff3">and<span class="_ _b"> </span></span>callee-sav<span class="_ _27"></span>ed<span class="_ _24"> </span>registers</div><div class="t m0 xf h8 y117b ff7 fs4 fc0 sc0 ls0 ws0">are<span class="_ _3"> </span>registers<span class="_ _b"> </span>that<span class="_ _b"> </span>m<span class="_ _27"></span>ust<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>sav<span class="_ _27"></span>ed<span class="_ _3"> </span>by<span class="_ _3"> </span>the<span class="_ _b"> </span>callee<span class="_ _3"> </span>routine<span class="ff3">.</span></div><div class="t m0 xc h8 y117c ff3 fs4 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>RISC-V<span class="_ _b"> </span><span class="ff5">ilp32<span class="_ _3"> </span></span>ABI<span class="_ _b"> </span>deﬁnes<span class="_ _3"> </span>that<span class="_ _3"> </span><span class="ff7">registers<span class="_ _7"> </span><span class="ff5">t0-t6</span>,<span class="_ _7"> </span><span class="ff5">a0-a7</span>,<span class="_ _7"> </span>and<span class="_ _7"> </span><span class="ff5">ra<span class="_ _34"> </span></span>are<span class="_ _7"> </span>caller-sav<span class="_ _27"></span>ed<span class="ff3">.<span class="_ _2a"> </span>Also,<span class="_ _b"> </span>it</span></span></div><div class="t m0 xf h8 y117d ff3 fs4 fc0 sc0 ls0 ws0">deﬁnes<span class="_ _2"> </span>that<span class="_ _2"> </span><span class="ff7">registers<span class="_ _3"> </span><span class="ff5">s0-s11<span class="_ _b"> </span></span>are<span class="_ _b"> </span>callee-sa<span class="_ _27"></span>ved<span class="ff3">.</span></span></div><div class="t m0 xc h8 y117e ff3 fs4 fc0 sc0 ls0 ws0">According<span class="_ _34"> </span>to<span class="_ _34"> </span>the<span class="_ _34"> </span>RISC-V<span class="_ _34"> </span><span class="ff5">ilp32<span class="_ _34"> </span></span>ABI,<span class="_ _34"> </span>the<span class="_ _34"> </span>conten<span class="_ _27"></span>ts<span class="_ _7"> </span>of<span class="_ _34"> </span>register<span class="_ _34"> </span><span class="ff5">a2<span class="_ _34"> </span></span>must<span class="_ _b"> </span>b<span class="_ _5"></span>e<span class="_ _34"> </span>preserved<span class="_ _b"> </span>by<span class="_ _b"> </span>the<span class="_ _34"> </span>caller</div><div class="t m0 xf h8 y117f ff3 fs4 fc0 sc0 ls0 ws0">routine,<span class="_ _6"> </span>hence,<span class="_ _2"> </span>in<span class="_ _2"> </span>previous<span class="_ _2"> </span>example,<span class="_ _2"> </span>the<span class="_ _6"> </span><span class="ff5">mix<span class="_ _2"> </span></span>routine<span class="_ _2"> </span>is<span class="_ _2"> </span>resp<span class="_ _5"></span>onsible<span class="_ _6"> </span>for<span class="_ _2"> </span>saving<span class="_ _6"> </span>the<span class="_ _2"> </span>conten<span class="_ _27"></span>ts<span class="_ _2"> </span>of<span class="_ _6"> </span>register<span class="_ _2"> </span><span class="ff5">a2</span></div><div class="t m0 xf h8 y1180 ff3 fs4 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>efore<span class="_ _6"> </span>inv<span class="_ _27"></span>oking<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _2"> </span></span>routine.</div><div class="t m0 xc h8 y1181 ff3 fs4 fc0 sc0 ls0 ws0">It<span class="_ _2"> </span>is<span class="_ _2"> </span>imp<span class="_ _5"></span>ortant<span class="_ _6"> </span>to<span class="_ _2"> </span>notice<span class="_ _2"> </span>that<span class="_ _2"> </span>there<span class="_ _2"> </span>is<span class="_ _2"> </span>no<span class="_ _2"> </span>need<span class="_ _2"> </span>to<span class="_ _3"> </span>sa<span class="_ _27"></span>ve<span class="_ _2"> </span>all<span class="_ _2"> </span>the<span class="_ _2"> </span>caller-sav<span class="_ _27"></span>ed<span class="_ _2"> </span>registers<span class="_ _2"> </span>b<span class="_ _5"></span>efore<span class="_ _2"> </span>inv<span class="_ _27"></span>oking<span class="_ _2"> </span>a</div><div class="t m0 xf h8 y1182 ff3 fs4 fc0 sc0 ls0 ws0">routine<span class="_ _b"> </span>–<span class="_ _3"> </span>only<span class="_ _b"> </span>the<span class="_ _b"> </span>registers<span class="_ _b"> </span>that<span class="_ _b"> </span>con<span class="_ _1"></span>tain<span class="_ _3"> </span>v<span class="_ _27"></span>alues<span class="_ _b"> </span>that<span class="_ _b"> </span>might<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _b"> </span>used<span class="_ _b"> </span>b<span class="_ _1"></span>y<span class="_ _3"> </span>the<span class="_ _b"> </span>caller<span class="_ _b"> </span>routine<span class="_ _b"> </span>after<span class="_ _b"> </span>the<span class="_ _b"> </span>call</div><div class="t m0 xf h8 y1183 ff3 fs4 fc0 sc0 ls0 ws0">site.<span class="_ _2a"> </span>In<span class="_ _3"> </span>the<span class="_ _3"> </span>previous<span class="_ _b"> </span>example,<span class="_ _3"> </span>the<span class="_ _b"> </span><span class="ff5">mix<span class="_ _3"> </span></span>routine<span class="_ _3"> </span>must<span class="_ _3"> </span>sa<span class="_ _27"></span>ve<span class="_ _3"> </span><span class="ff5">a2<span class="_ _3"> </span></span>b<span class="_ _5"></span>ecause<span class="_ _b"> </span>it<span class="_ _3"> </span>needs<span class="_ _3"> </span>the<span class="_ _b"> </span>v<span class="_ _9"></span>alue<span class="_ _b"> </span>of<span class="_ _3"> </span><span class="ff5">a2<span class="_ _3"> </span></span>after<span class="_ _b"> </span>the</div><div class="t m0 xf h8 y1184 ff3 fs4 fc0 sc0 ls0 ws0">call<span class="_ _2"> </span>site.</div><div class="t m0 xc h8 y1185 ff3 fs4 fc0 sc0 ls0 ws0">Also,<span class="_ _2"> </span>it<span class="_ _2"> </span>is<span class="_ _2"> </span>imp<span class="_ _5"></span>ortant<span class="_ _6"> </span>to<span class="_ _2"> </span>notice<span class="_ _3"> </span>that<span class="_ _2"> </span>there<span class="_ _2"> </span>is<span class="_ _2"> </span>no<span class="_ _2"> </span>need<span class="_ _3"> </span>for<span class="_ _2"> </span>the<span class="_ _2"> </span>callee<span class="_ _2"> </span>routine<span class="_ _2"> </span>to<span class="_ _3"> </span>sa<span class="_ _27"></span>ve<span class="_ _2"> </span>and<span class="_ _2"> </span>restore<span class="_ _2"> </span>all<span class="_ _2"> </span>the</div><div class="t m0 xf h8 y1186 ff3 fs4 fc0 sc0 ls0 ws0">callee-sa<span class="_ _1"></span>v<span class="_ _1"></span>ed<span class="_ _3"> </span>registers,<span class="_ _3"> </span>only<span class="_ _3"> </span>the<span class="_ _3"> </span>ones<span class="_ _3"> </span>that<span class="_ _3"> </span>are<span class="_ _b"> </span>modiﬁed<span class="_ _b"> </span>b<span class="_ _27"></span>y<span class="_ _3"> </span>the<span class="_ _b"> </span>routine.<span class="_ _4"> </span>As<span class="_ _3"> </span>an<span class="_ _3"> </span>example,<span class="_ _3"> </span>there<span class="_ _3"> </span>is<span class="_ _3"> </span>no<span class="_ _b"> </span>need</div><div class="t m0 xf h8 y1187 ff3 fs4 fc0 sc0 ls0 ws0">for<span class="_ _2"> </span>the<span class="_ _2"> </span><span class="ff5">exchange<span class="_ _6"> </span></span>routine<span class="_ _2"> </span>to<span class="_ _2"> </span>sav<span class="_ _27"></span>e<span class="_ _2"> </span>registers<span class="_ _2"> </span><span class="ff5">s0-s11<span class="_ _2"> </span></span>since<span class="_ _2"> </span>it<span class="_ _2"> </span>do<span class="_ _5"></span>es<span class="_ _2"> </span>not<span class="_ _2"> </span>mo<span class="_ _5"></span>dify<span class="_ _2"> </span>these<span class="_ _2"> </span>registers.</div><div class="t m0 xf hb y1188 ff6 fs6 fc0 sc0 ls0 ws0">7.7.2<span class="_ _11"> </span>Sa<span class="_ _27"></span>ving<span class="_ _7"> </span>and<span class="_ _24"> </span>restoring<span class="_ _7"> </span>the<span class="_ _7"> </span>return<span class="_ _7"> </span>address</div><div class="t m0 xf h8 ya19 ff3 fs4 fc0 sc0 ls0 ws0">As<span class="_ _b"> </span>discussed<span class="_ _b"> </span>b<span class="_ _5"></span>efore,<span class="_ _b"> </span>whenever<span class="_ _3"> </span>a<span class="_ _b"> </span>routine<span class="_ _b"> </span>is<span class="_ _b"> </span>inv<span class="_ _27"></span>oked,<span class="_ _b"> </span>the<span class="_ _b"> </span>return<span class="_ _b"> </span>address<span class="_ _b"> </span>is<span class="_ _b"> </span>stored<span class="_ _b"> </span>at<span class="_ _b"> </span>the<span class="_ _b"> </span>return<span class="_ _b"> </span>address</div><div class="t m0 xf h8 ya1a ff3 fs4 fc0 sc0 ls0 ws0">register<span class="_ _3"> </span>(<span class="ff5">ra</span>).<span class="_ _17"> </span>In<span class="_ _3"> </span>other<span class="_ _b"> </span>words,<span class="_ _3"> </span>whenever<span class="_ _3"> </span>a<span class="_ _b"> </span>routine<span class="_ _b"> </span>is<span class="_ _3"> </span>inv<span class="_ _27"></span>oked,<span class="_ _b"> </span>register<span class="_ _3"> </span><span class="ff5">ra<span class="_ _b"> </span></span>is<span class="_ _b"> </span>up<span class="_ _5"></span>dated<span class="_ _3"> </span>with<span class="_ _b"> </span>a<span class="_ _b"> </span>new<span class="_ _b"> </span>v<span class="_ _27"></span>alue,</div><div class="t m0 xf h8 y1189 ff3 fs4 fc0 sc0 ls0 ws0">and<span class="_ _3"> </span>its<span class="_ _b"> </span>previous<span class="_ _3"> </span>conten<span class="_ _27"></span>ts<span class="_ _b"> </span>are<span class="_ _3"> </span>destroy<span class="_ _27"></span>ed.<span class="_ _1c"> </span>Consequently<span class="_ _12"></span>,<span class="_ _b"> </span>if<span class="_ _b"> </span>the<span class="_ _3"> </span>conten<span class="_ _27"></span>ts<span class="_ _b"> </span>of<span class="_ _3"> </span>register<span class="_ _b"> </span><span class="ff5">ra<span class="_ _3"> </span></span>are<span class="_ _b"> </span>required<span class="_ _3"> </span>after</div><div class="t m0 xf h8 y118a ff3 fs4 fc0 sc0 ls0 ws0">the<span class="_ _7"> </span>call<span class="_ _7"> </span>site,<span class="_ _24"> </span>then<span class="_ _24"> </span>it<span class="_ _7"> </span>must<span class="_ _34"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>sav<span class="_ _27"></span>ed<span class="_ _24"> </span>and<span class="_ _7"> </span>restored.<span class="_ _2c"> </span>This<span class="_ _7"> </span>is<span class="_ _7"> </span>usually<span class="_ _24"> </span>the<span class="_ _7"> </span>case<span class="_ _7"> </span>b<span class="_ _5"></span>ecause<span class="_ _7"> </span>the<span class="_ _24"> </span>co<span class="_ _5"></span>de<span class="_ _7"> </span>that<span class="_ _7"> </span>is</div><div class="t m0 xf h8 ya1d ff3 fs4 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>v<span class="_ _1"></span>oking<span class="_ _6"> </span>a<span class="_ _2"> </span>routine<span class="_ _6"> </span>usually<span class="_ _2"> </span>b<span class="_ _5"></span>elongs<span class="_ _6"> </span>to<span class="_ _2"> </span>another<span class="_ _2"> </span>routine,<span class="_ _6"> </span>hence,<span class="_ _2"> </span>it<span class="_ _6"> </span>might<span class="_ _6"> </span>need<span class="_ _2"> </span>the<span class="_ _6"> </span>return<span class="_ _2"> </span>address<span class="_ _6"> </span>to<span class="_ _2"> </span>return</div><div class="t m0 xf h8 ya1e ff3 fs4 fc0 sc0 ls0 ws0">its<span class="_ _2"> </span>execution<span class="_ _3"> </span>to<span class="_ _3"> </span>the<span class="_ _3"> </span>caller<span class="_ _2"> </span>–<span class="_ _3"> </span>Notice<span class="_ _3"> </span>that<span class="_ _3"> </span>the<span class="_ _3"> </span><span class="ff5">ret<span class="_ _2"> </span></span>pseudo-instruction<span class="_ _3"> </span>reads<span class="_ _3"> </span>the<span class="_ _3"> </span>con<span class="_ _1"></span>ten<span class="_ _1"></span>ts<span class="_ _2"> </span>of<span class="_ _3"> </span>register<span class="_ _3"> </span><span class="ff5">ra<span class="_ _3"> </span></span>to</div><div class="t m0 xf h8 y118b ff3 fs4 fc0 sc0 ls0 ws0">return<span class="_ _2"> </span>the<span class="_ _2"> </span>execution<span class="_ _6"> </span>ﬂow<span class="_ _6"> </span>to<span class="_ _2"> </span>the<span class="_ _2"> </span>correct<span class="_ _2"> </span>place.</div><div class="t m0 x2c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">Prin<span class="_ _1"></span>ted<span class="_ _2"> </span>v<span class="_ _1"></span>ersion<span class="_ _2"> </span>a<span class="_ _1"></span>v<span class="_ _27"></span>ailable<span class="_ _2"> </span>for<span class="_ _6"> </span>purchase<span class="_ _6"> </span>at<span class="_ _2"> </span>Amazon.com</div><div class="t m0 x2d h8 y143 ff3 fs4 fc0 sc0 ls0 ws0">F<span class="_ _9"></span>ree<span class="_ _2"> </span>online<span class="_ _6"> </span>version<span class="_ _6"> </span>at<span class="_ _2"> </span><span class="ff5">http://riscv-<span class="_ _22"></span>programming.org</span></div><div class="t m0 x2e h8 y389 ff3 fs4 fc0 sc0 ls0 ws0">(Generated<span class="_ _2"> </span>on<span class="_ _2"> </span>August<span class="_ _6"> </span>28,<span class="_ _2"> </span>2024)</div><div class="t m0 x9c h8 y33 ff3 fs4 fc0 sc0 ls0 ws0">105</div><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,598.394,null]'><div class="d m1" style="border-style:none;position:absolute;left:106.799000px;bottom:410.163000px;width:20.119000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,598.394,null]'><div class="d m1" style="border-style:none;position:absolute;left:174.965000px;bottom:362.065000px;width:20.119000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",72,598.394,null]'><div class="d m1" style="border-style:none;position:absolute;left:234.289000px;bottom:338.155000px;width:20.119000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="https://a.co/d/gUfKWsD"><div class="d m1" style="border-style:none;position:absolute;left:358.258000px;bottom:69.067000px;width:58.171000px;height:10.848000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="http://riscv-programming.org"><div class="d m1" style="border-style:none;position:absolute;left:271.722000px;bottom:56.835000px;width:148.940000px;height:11.125000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
